# Правила работы с документацией проекта

> Оглавление `docs/doc-rules.md`
- § *Иерархия уровней документирования* — структура документации по уровням специфичности и распределение контента.
- § *Обязательность обновления* — когда необходимо обновлять документацию.
- § *Когда обновлять документацию* — критерии для обновления.
- § *Как обновлять документацию* — правила процесса обновления.
- § *Принципы оформления документации* — стиль и структура документов.

> § <br> ИЕРАРХИЯ УРОВНЕЙ ДОКУМЕНТИРОВАНИЯ

Документация структурирована по уровням специфичности (от глобального к локальному):

**Уровень 1: `.cursorrules` (корневой)**
- Правила работы ИИ-агента, протоколы, Git-процессы.
- Глобальные настройки и регламенты проекта.
- **Куда вносить изменения уровня 1:**
  - Правила работы ИИ‑агента, Git‑процессы, протоколы → `.cursorrules` (корневой).

**Уровень 2: Файлы документации в `docs/`**
- Каждый файл обслуживает свой сектор (архитектура, компоненты, UI/UX, библиотеки и т.д.).
- Общие принципы и паттерны, применимые к нескольким сущностям.
- **Куда вносить изменения уровня 2:**
  - Архитектура, технические ограничения, математические модели высокого уровня → `docs/doc-architect.md`.
  - Правила UI/UX, интерфейс и паттерны взаимодействий → `docs/doc-guide-ii.md`.
  - Документация конкретных математических моделей → файлы `docs/doc-<модель>.md` (например, `docs/doc-mm-median.md`).
  - Документация компонентов приложения, API, особенности реализации → `docs/doc-components.md`.
  - Vue-библиотеки, принцип приоритета библиотек, схема хранения → `docs/doc-lib-vue.md`.
  - Правила работы с документацией проекта → `docs/doc-rules.md`.

**Уровень 3: Шапки файлов**
- **Только специфичное для конкретного файла**: назначение, особенности реализации, ссылки на общую документацию.
- **Общие подходы выносятся на более глобальный уровень** (файлы в `docs/` или `.cursorrules`).
- Формат шапки файла:
  - Заголовок с разделителями.
  - Раздел "ЦЕЛЬ" (назначение файла).
  - Разделы с описанием принципов (проблема → решение → как достигается → преимущества).
  - Ссылки на общую документацию в `docs/` для общих подходов.

**Уровень 4: Комментарии в коде (CSS/JS)**
- Конкретные значения свойств (размеры, цвета, отступы, z-index).
- Детали реализации (структура селекторов, медиа-запросы).
- Технические нюансы.

**Правило выноса контента:**
- Общие принципы, применимые к нескольким файлам/компонентам, выносятся на более высокий уровень с ссылкой из нижних уровней.
- Конкретные значения и детали реализации остаются на нижних уровнях.

**Запрет дублирования:**
- При повторном упоминании используй ссылки на основной раздел, а не копируй текст.

> § <br> ОБЯЗАТЕЛЬНОСТЬ ОБНОВЛЕНИЯ

- При изменениях в коде, архитектуре или процессах, которые влияют на принципы/правила, **обязательно** обновлять соответствующие документы из списка выше.
- После выполнения сложной задачи сверять код с документацией и при несоответствиях сначала править документацию, затем выполнять коммит.

> § <br> КОГДА ОБНОВЛЯТЬ ДОКУМЕНТАЦИЮ

Сразу обновлять документацию, если:
- меняется структура проекта (папки, файлы, слои);
- принимаются новые архитектурные решения (компоненты, паттерны, ограничения);
- меняются принципы UI/UX (стили, паттерны взаимодействий);
- меняются правила работы ИИ‑агента и его протоколы;
- добавляются новые сущности, сервисы, компоненты или математические модели;
- пересматриваются стандарты разработки или технические ограничения.

> § <br> КАК ОБНОВЛЯТЬ ДОКУМЕНТАЦИЮ

- Обновляй соответствующий документ **одновременно** с изменением кода.
- Проверяй согласованность связанных разделов во всех документах (не правь изолированные куски).
- При переименовании/перемещении файлов или разделов обновляй ссылки и описания структуры проекта в `docs/doc-architect.md`.
- **При добавлении новых разделов, протоколов или регламентов в `.cursorrules` (корневой) обязательно обновляй оглавление в начале файла.**
- Сохраняй и поддерживай принятую структуру и формат документов.

> § <br> ПРИНЦИПЫ ОФОРМЛЕНИЯ ДОКУМЕНТАЦИИ

- Делай документы модульными и хорошо структурированными: логичная иерархия заголовков, явные разделы.
- **Не допускай дублирования**: при повторном упоминании используй ссылки на основной раздел, а не копируй текст.
- **Поддерживай минимализм**: оставляй только актуальную и полезную для работы информацию, удаляй устаревшее и сбивающее с толку.
- **Используй математические угловые скобки для HTML-тегов**: при упоминании HTML-тегов в тексте (например, `<script>`, `<div>`) используй математические угловые скобки `⟨script⟩`, `⟨div⟩` (U+27E8/U+27E9) вместо обычных `<script>`, `<div>`, чтобы избежать блокировки содержимого Markdown-превью.

