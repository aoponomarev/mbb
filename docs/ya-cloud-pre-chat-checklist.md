# –ß–µ–∫–ª–∏—Å—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Yandex Cloud –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∞—Ç–∞

> –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `ya-chat.html` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cloud Function –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.

## ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –∞–∫—Ç–∏–≤–Ω–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Yandex Cloud Console: https://console.yandex.cloud
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Cloud Functions** (–∏–ª–∏ **Serverless** ‚Üí **Functions**)
3. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `yandexgpt-proxy` (ID: `d4erd8d1pttbufsl26s1`)
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü–∏–∏: **"–ê–∫—Ç–∏–≤–Ω–∞"** (–∑–µ–ª–µ–Ω–∞—è –º–µ—Ç–∫–∞)

**–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞:**
- –§—É–Ω–∫—Ü–∏—è —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞, –ø—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ `docs/ya-cloud-function-steps-guide.md`

## ‚úÖ –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ `yandexgpt-proxy` –Ω–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"–ü—É–±–ª–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"** (Public function)
2. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–í–ö–õ–Æ–ß–ï–ù** (–∑–µ–ª–µ–Ω—ã–π/–∞–∫—Ç–∏–≤–Ω—ã–π)
3. –ï—Å–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω ‚Äî –≤–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** –ë–µ–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞!

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω)

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ **"–†–µ–¥–∞–∫—Ç–æ—Ä"** (–∏–ª–∏ **"–û—Ç–∫—Ä—ã—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ"**)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–µ—Ä—Å–∏–∏ –∏–∑ `docs/ya-cloud-function-code.md`
3. –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –ù–µ—Ç —Å—Ç—Ä–æ–∫–∏ `require('node-fetch')` (–≤ Node.js 18+ fetch –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OPTIONS –∑–∞–ø—Ä–æ—Å–æ–≤ –µ—Å—Ç—å (—Å—Ç–∞—Ç—É—Å 204)
   - ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–æ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–∞—Ö
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `Access-Control-Max-Age: 86400`

4. –ï—Å–ª–∏ –∫–æ–¥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–∑ `docs/ya-cloud-function-code.md`
5. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ ‚Äî –Ω–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏—é"** (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"** (Environment Variables)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
   - **–ö–ª—é—á:** `YANDEX_API_KEY`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** `******` (–∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–æ, –Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)

**–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ—Ç –∏–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞—è:**
1. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å"** (–∏–ª–∏ **"–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é"**)
2. **–ö–ª—é—á:** `YANDEX_API_KEY`
3. **–ó–Ω–∞—á–µ–Ω–∏–µ:** –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à API-–∫–ª—é—á Yandex Cloud
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API-–∫–ª—é—á:**
- –°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: `docs/ya-get-api-key.md`
- –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ: IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí `mbb` ‚Üí –ö–ª—é—á–∏ ‚Üí –°–æ–∑–¥–∞—Ç—å API-–∫–ª—é—á

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è"** (Latest version)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

   - **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** `nodejs18`, `nodejs20` –∏–ª–∏ `nodejs22` (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Node.js 18+)
   - **–¢–∞–π–º–∞—É—Ç:** `30 —Å–µ–∫—É–Ω–¥` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 30 —Å–µ–∫ –∏–ª–∏ –±–æ–ª—å—à–µ)
   - **–ü–∞–º—è—Ç—å:** `128 –ú–ë` (–º–∏–Ω–∏–º—É–º, –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
   - **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** `index.handler`

**–ï—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –º–µ–Ω—å—à–µ 30 —Å–µ–∫—É–Ω–¥:**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

## ‚úÖ –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL —Ñ—É–Ω–∫—Ü–∏–∏

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–û–ø–∏—Å–∞–Ω–∏–µ"**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"–°—Å—ã–ª–∫–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞"** (Call link)
3. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å URL –≤–∏–¥–∞:
   ```
   https://functions.yandexcloud.net/d4erd8d1pttbufsl26s1
   ```
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç URL** ‚Äî –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Ç–∞

**–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç URL —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `core/config/app-config.js`

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ya-cors.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–≤–µ–¥–∏—Ç–µ URL —Ñ—É–Ω–∫—Ü–∏–∏: `https://functions.yandexcloud.net/d4erd8d1pttbufsl26s1`
3. –ü–æ–ª–µ **"API –∫–ª—é—á"** –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–µ—Å–ª–∏ –æ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è)
4. –í–≤–µ–¥–∏—Ç–µ Folder ID: `b1gv03a122le5a934cqj`
5. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "YandexGPT Lite")
6. –í–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å: "–ü—Ä–∏–≤–µ—Ç! –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ."
7. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å"**
8. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (—Å—Ç–∞—Ç—É—Å 200, –µ—Å—Ç—å —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞)

**–ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ä–∞–∑–¥–µ–ª "–õ–æ–≥–∏")
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã—à–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –°–º. `docs/ya-cors-troubleshooting.md` –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `ya-chat.html` —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

- [ ] –§—É–Ω–∫—Ü–∏—è `yandexgpt-proxy` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∞–∫—Ç–∏–≤–Ω–∞
- [ ] –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –≤–∫–ª—é—á–µ–Ω
- [ ] –ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω (–∏–∑ `docs/ya-cloud-function-code.md`)
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `YANDEX_API_KEY` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] –¢–∞–π–º–∞—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 30 —Å–µ–∫—É–Ω–¥)
- [ ] URL —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —á–∞—Ç–µ
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ `ya-cors.html`

## üöÄ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ya-chat.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤–≤–µ–¥–∏—Ç–µ:
   - **URL –ø—Ä–æ–∫—Å–∏:** `https://functions.yandexcloud.net/d4erd8d1pttbufsl26s1`
   - **Folder ID:** `b1gv03a122le5a934cqj`
   - **–ú–æ–¥–µ–ª—å:** –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é
   - **API –∫–ª—é—á:** –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ env —Ñ—É–Ω–∫—Ü–∏–∏)
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –¥–ª—è URL –ø—Ä–æ–∫—Å–∏ –∏ API –∫–ª—é—á–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
4. –ù–∞—á–Ω–∏—Ç–µ —á–∞—Ç ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## üìö –°–°–´–õ–ö–ò

- –ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏: `docs/ya-cloud-function-code.md`
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `docs/ya-cloud-function-steps-guide.md`
- –ü–æ–ª—É—á–µ–Ω–∏–µ API-–∫–ª—é—á–∞: `docs/ya-get-api-key.md`
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º: `docs/ya-cors-troubleshooting.md`
- –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: `docs/integration-mbb-ya-plan.md`
