# Тематический лог: ARCH

Лог изменений, связанных с архитектурой, структурой файлов/компонентов, JavaScript, API, I/O.

## Коммит от 22.12.2025 : Создание критически важных структур проекта

◆ Созданы все критически важные структуры для здоровья проекта: валидация, обработка ошибок, rate limiting, состояния, события, конфигурация, логирование
▶ Создана структура `core/validation/` (schemas.js, validator.js, normalizer.js, math-validation.js) — схемы валидации данных, валидатор, нормализация, валидация математических вычислений. Создана структура `core/errors/` (error-types.js, error-handler.js) — типы ошибок, единый обработчик с повторными попытками. Создан `core/api/rate-limiter.js` — адаптивные таймауты, очередь запросов. Создана структура `core/state/` (loading-state.js) — управление состояниями загрузки. Создана структура `core/events/` (event-bus.js) — глобальная шина событий. Создана структура `core/config/` (app-config.js, api-config.js) — конфигурация приложения и API. Создана структура `core/logging/` (logger.js) — структурированное логирование. Обновлена документация `docs/doc-architect.md`: добавлен раздел "Критически важные структуры", обновлён порядок загрузки (15 шагов). Всего создано 19 файлов, 2268 строк JavaScript кода
◉ Заложить мощный фундамент для надёжности финансовых расчётов, предотвратить ошибки из-за некорректных данных, обеспечить единообразную обработку ошибок и состояний, централизовать управление запросами к API
@architect @validation @errors @rate-limiting @state @events @config @logging @foundation

## Коммит от 22.12.2025 : Декомпозиция ui/ и переименование в shared/

◆ Переименована папка `ui/shared/` → `shared/`, обновлена структура проекта, созданы папки по новым правилам размещения файлов
▶ Переименована папка `ui/shared/` в `shared/`, удалена пустая папка `ui/`, обновлены все упоминания в `index.html` (заменены пути `ui/shared/` на `shared/`, `ui/` на `shared/` или `features/`), создана структура папок: `shared/` (components, styles, templates, utils, config, assets/icons), `features/markets/`, `features/settings/`, `features/layout/` с подпапками
◉ Упростить структуру проекта, убрать лишний уровень вложенности, обеспечить чёткое разделение shared/feature-specific компонентов
@architect @structure @refactoring @shared @features

## Коммит от 22.12.2025 : Создание модульного index.html с принципами модульности

◆ Создан `index.html` как точка подключения скриптов с развёрнутой шапкой, описывающей принципы модульности
▶ Добавлена шапка с описанием: вынос x-template шаблонов в отдельные файлы, модульная система загрузки скриптов через конфигурацию, группировка компонентов по функциональности и слоям, правила размещения файлов, порядок загрузки, принципы именования, работа без сборки
◉ Обеспечить модульную архитектуру проекта, избежать раздувания index.html, централизовать управление загрузкой модулей
@architect @modularity @index @module-loader @template-loader

