# Тематический лог: DOCS

Лог изменений, связанных с документацией, ревью-файлами.

<!-- ПРАВИЛА ФОРМАТИРОВАНИЯ ЗАПИСЕЙ
**КРИТИЧЕСКИ ВАЖНО**: При упоминании HTML-тегов в записях **ЗАПРЕЩЕНО** использовать обычные угловые скобки `<script>`, `<div>`, `<style>` и т.п. — они блокируют Markdown-превью. **ОБЯЗАТЕЛЬНО** использовать математические угловые скобки: ⟨script⟩, ⟨div⟩, ⟨style⟩ (U+27E8/U+27E9). Для скрытых комментариев используйте HTML-комментарии -->

## Систематизация и документирование работы с отступами в составных компонентах
28.12.2025 ◆ Создана комплексная документация по работе с отступами (gaps) между элементами в составных компонентах ▶ В docs/doc-components.md добавлен раздел "Работа с отступами в составных компонентах" с описанием проблемы flexbox gap (применяется к скрытым элементам), решения через CSS margin с селекторами :not(:last-child) и :not(:first-child), базовой структуры CSS правил, обработки особых случаев (класс icon-only), 4 системных правил для всех составных компонентов, примеров из проекта (button, dropdown-menu-item, button-group). В responsive-breakpoints.css добавлены подробные комментарии: секция "ОТСТУПЫ МЕЖДУ ЭЛЕМЕНТАМИ" с объяснением отказа от flexbox gap и ссылкой на документацию, секция "Переопределение отступов для особых случаев", комментарии к каждому правилу с указанием эквивалента Bootstrap класса. Обновлено оглавление doc-components.md: добавлен пункт о работе с отступами в составных компонентах ◉ Систематизировать и задокументировать работу с отступами для предотвращения проблем в текущих и будущих компонентах, обеспечить единообразие подхода @documentation @css @flexbox @gap @margin @components @system @best-practices

## Документирование утилиты layout-sync и пропа menuOffset
28.12.2025 ◆ Добавлена документация утилиты layout-sync и пропа menuOffset для компонента dropdown ▶ В docs/doc-architect.md добавлен раздел "Утилита синхронизации layout" с описанием назначения, реализации через ResizeObserver и MutationObserver, принципов работы (автоматическая установка padding на body, CSS переменные --header-height и --footer-height, поддержка динамических изменений), инициализации и API (window.layoutSync.start(), stop(), update()). Обновлён список утилит: добавлены class-manager и layout-sync. Обновлён порядок загрузки модулей: добавлен пункт про layout-sync. Обновлено оглавление: добавлен пункт про утилиту синхронизации layout. В docs/doc-components.md добавлен проп menuOffset в API компонента dropdown с описанием типов (Number | Array), формата значений ([offsetX, offsetY] или [0, offsetY] для числа), и примера использования (-8 для уменьшения отступа на 8px) ◉ Задокументировать новую утилиту layout-sync и проп menuOffset для обеспечения полноты документации и помощи разработчикам @documentation @utilities @components @layout-sync @dropdown @api

## Документирование проблем и решений механизма classesAdd/classesRemove
28.12.2025 ◆ Добавлена документация по проблемам и решениям механизма управления классами и результаты ревизии компонентов ▶ В docs/doc-components.md добавлен раздел "Важные замечания по реализации механизма classesAdd/classesRemove" с описанием 5 проблем и решений: жестко заданные классы в шаблонах, старый проп :class вместо :classes-add, объекты с разной структурой в computed свойствах, порядок обработки классов, отсутствие классов выравнивания в нативных элементах. Обновлён раздел "Порядок объединения классов": исправлен порядок (сначала удаление, затем добавление). Добавлен раздел "Ревизия компонентов на правильное использование механизма" с результатами проверки всех компонентов, шаблонов и computed свойств ◉ Задокументировать типичные проблемы и их решения, обеспечить системное применение механизма во всех компонентах, зафиксировать результаты ревизии @documentation @components @classes @troubleshooting @review @best-practices

## Документирование универсального механизма управления классами и важных замечаний по реализации
28.12.2025 ◆ Обновлена документация компонентов с описанием нового механизма управления классами и добавлен раздел о типичных проблемах реализации ▶ В docs/doc-components.md полностью переписан раздел "Универсальный механизм добавления CSS классов": описание props classesAdd и classesRemove (Object, default {}), структура объектов с ключами для различных элементов компонентов, порядок обработки классов, примеры использования для всех компонентов, список элементов компонентов с поддержкой управления классами. Обновлён API всех компонентов: заменён prop class на classesAdd и classesRemove с описанием структуры объектов. Добавлен новый раздел "Важные замечания по реализации Vue-компонентов" с подразделами: работа с this.$el в Vue 3 (проблема Comment node при x-template, решения через проверку типа и ref), размещение методов в компоненте (методы должны быть в methods, а не в computed), проверка доступности утилит (проверка window.classManager перед использованием), вызов методов из computed свойств (рекомендации по безопасному использованию), CSS селекторы с динамическими классами (экранирование специальных символов). Обновлено оглавление: добавлен пункт о важных замечаниях по реализации ◉ Задокументировать новый механизм управления классами, обновить API компонентов, добавить важные замечания для предотвращения типичных проблем при разработке компонентов @documentation @components @classes @vue @best-practices @troubleshooting

## Документирование компонента button-group
28.12.2025 ◆ Добавлена документация компонента button-group в docs/doc-components.md ▶ Добавлен раздел "Компонент button-group" с описанием назначения, API компонента (props, emits, slots), особенностей реализации (максимальная совместимость с Bootstrap JS API, наследование стилей, адаптивное схлопывание, синхронизация состояния), размещения файлов и примеров использования. Обновлено оглавление doc-components.md: добавлен пункт о компоненте button-group ◉ Задокументировать новый компонент button-group с полным описанием API, особенностей реализации и примеров использования @documentation @components @button-group

## Добавление инструкций по форматированию в тематические логи
28.12.2025:50e6188 ◆ Добавлены строгие инструкции по форматированию в шапки всех тематических логов (log-ARCH.md, log-Cursor.md, log-DOCS.md, log-HTML-CSS.md, log-MM.md) в виде HTML-комментариев с правилами использования угловых скобок @logs @format @rules @markdown

## Восстановление и исправление структуры тематических логов
28.12.2025:52b047d ◆ Восстановлены тематические логи из репозитория и исправлена структура Markdown ▶ Восстановлены все тематические логи (log-ARCH.md, log-Cursor.md, log-DOCS.md, log-HTML-CSS.md) из коммита "End of day: 12-27" для устранения повреждений структуры. Исправлена структура Markdown: добавлены пустые строки между записями (между заголовками ## и следующей записью) во всех логах. Добавлены хэши к записям за 27.12.2025, которые были восстановлены без хэшей. Исправлены заголовки записей: добавлены недостающие заголовки ## для записей, которые были без заголовков ◉ Восстановить корректную структуру тематических логов, устранить повреждения Markdown, обеспечить правильное отображение в редакторе @logs @fix @markdown @structure @restore

## Ревизия документации на соответствие иерархии уровней
27.12.2025:b876f35 ◆ Проведена полная ревизия документации на соответствие иерархии уровней документирования ▶ В docs/doc-architect.md сокращён раздел "Маркировка элементов DOM": убраны детали реализации, оставлены общие принципы, добавлена ссылка на шапку файла shared/utils/auto-markup.js. В docs/doc-components.md убрано дублирование Bootstrap-совместимости в описаниях компонентов dropdown и combobox, оставлены ссылки на общий раздел. В docs/doc-guide-ii.md убраны конкретные значения padding, оставлена ссылка на комментарии в CSS файле. Заменены HTML-теги на математические угловые скобки (⟨script⟩, ⟨div⟩, ⟨style⟩) в docs/doc-architect.md для избежания блокировки Markdown-превью ◉ Привести документацию в соответствие с иерархией уровней документирования, убрать дублирование, перенести детали реализации на соответствующие уровни, обеспечить согласованность перекрёстных ссылок @documentation @refactoring @hierarchy @rules

## Объединение разделов в doc-rules.md
27.12.2025:718752c ◆ Объединены разделы "КУДА ВНОСИТЬ ИЗМЕНЕНИЯ" и "ИЕРАРХИЯ УРОВНЕЙ ДОКУМЕНТИРОВАНИЯ" в docs/doc-rules.md ▶ Раздел "КУДА ВНОСИТЬ ИЗМЕНЕНИЯ" встроен в описание уровней 1 и 2 как подразделы "Куда вносить изменения уровня 1/2". Расширен список документов уровня 2: добавлены doc-components.md, doc-lib-vue.md, doc-rules.md. Обновлено оглавление: убран пункт "Куда вносить изменения", обновлено описание "Иерархия уровней документирования". В .cursorrules обновлена ссылка на документацию: убрана детальная информация об иерархии, добавлена ссылка на doc-rules.md в списке основных документов ◉ Органично объединить распределение контента по файлам с описанием иерархии уровней документирования, упростить структуру документации @documentation @refactoring @structure

## Добавление правила об использовании математических угловых скобок
27.12.2025:d65d275 ◆ Добавлено правило об использовании математических угловых скобок для HTML-тегов в документации ▶ В docs/doc-rules.md добавлено правило в раздел "ПРИНЦИПЫ ОФОРМЛЕНИЯ ДОКУМЕНТАЦИИ": при упоминании HTML-тегов в тексте использовать математические угловые скобки ⟨script⟩, ⟨div⟩ (U+27E8/U+27E9) вместо обычных угловых скобок для избежания блокировки содержимого Markdown-превью. Исправлены HTML-теги в docs/logs/log-ARCH.md: заменены обычные угловые скобки на ⟨script⟩ в двух записях ◉ Предотвратить блокировку содержимого Markdown-превью при упоминании HTML-тегов, обеспечить единообразное оформление документации @documentation @format @markdown @rules

## Обновление документации для вынесенных шаблонов
27.12.2025:0258094 ◆ Обновлена документация для отражения вынесенных шаблонов компонентов ▶ В docs/doc-architect.md обновлён раздел "Вынос x-template шаблонов": шаблоны теперь в shared/templates/ как отдельные файлы, загрузка через модульную систему, структура shared/templates/{component-name}-template.js. Обновлены разделы "Правила размещения файлов", "Порядок загрузки", "Обработка ошибок" для отражения отдельных шаблонов. В docs/doc-components.md обновлены ссылки на шаблоны для всех компонентов: button, dropdown, dropdown-menu-item, combobox теперь указывают на shared/templates/ вместо core/templates-inline.js ◉ Отразить в документации новую структуру шаблонов, обновить ссылки и описание загрузки @documentation @templates @architecture

## Обновление документации для модульной системы загрузки
27.12.2025:2b7723c ◆ Обновлена документация для отражения реализованной модульной системы загрузки скриптов ▶ В docs/doc-architect.md обновлён раздел "Модульная система загрузки скриптов": изменён статус с "Не реализована" на "Реализована", добавлено описание структуры конфигурации, преимуществ и дополнительных возможностей (кэширование, обработка ошибок, feature flags). Обновлён раздел "Порядок загрузки": описание автоматического порядка загрузки через модульную систему, пример порядка загрузки модулей. Обновлено оглавление: статус модульной системы изменён на "реализована" ◉ Отразить в документации текущее состояние модульной системы загрузки, описать новые возможности и порядок загрузки @documentation @modules @architecture

## Создание doc-guide-ii.md и реорганизация документации
27.12.2025:5cc7037 ◆ Создан doc-guide-ii.md и перенесена документация по адаптивности и выравниванию ▶ Создан docs/doc-guide-ii.md с разделами: Понятия, Принципы стилизации, Макет и выравнивание (с описанием метода выравнивания высоты элементов), Компоненты (с перенесённой адаптивностью), Темы (зарезервировано), Паттерны взаимодействия (зарезервировано). Из docs/doc-components.md перенесён раздел "Адаптивность текстов и надписей" в doc-guide-ii.md → "Компоненты" → "Адаптивность компонентов", в doc-components.md оставлена краткая ссылка. Обновлено оглавление doc-components.md. Добавлено описание метода выравнивания высоты элементов через вертикальный padding внутреннего контейнера на основе классов размеров Bootstrap ◉ Создать централизованную документацию по UI/UX принципам, вынести общие подходы из документации компонентов, задокументировать метод выравнивания высоты для переиспользования @documentation @ui @ux @guide @refactoring @alignment

## Документирование системы маркировки элементов DOM
26.12.2025:39b3a5e ◆ Добавлен раздел "Маркировка элементов DOM" в архитектурную документацию ▶ В docs/doc-architect.md добавлен раздел "§ Маркировка элементов DOM" с описанием автоматической маркировки контейнеров (правила применения, исключения, инициализация, ручной вызов, детерминированность) и детерминированных хэшей компонентов (назначение, реализация, формат, применение, стабильность, утилита). Обновлено оглавление документа. Описана работа MutationObserver для автоматической маркировки асинхронно загружаемых элементов ◉ Задокументировать систему автоматической маркировки элементов DOM и детерминированных хэшей компонентов для навигации в коде и кастомной стилизации @documentation @markup @hash @architecture

## Обновление документации: адаптивность через CSS классы
26.12.2025:d56eea4 ◆ Обновлена документация компонентов для новой системы адаптивности ▶ В docs/doc-components.md обновлён раздел "Адаптивность текстов и надписей": удалена информация о responsive prop и кастомных брейкпоинтах 412px, добавлено описание новой системы через CSS классы компонентов (.btn-responsive, .dropdown-responsive) с вложенными селекторами, описание брейкпоинта 576px, логики видимости (mobile-first), условных классов (has-icon, has-label-short) ◉ Привести документацию в соответствие с новой реализацией адаптивности через CSS классы @documentation @adaptivity @css @components

## Документирование подхода к адаптивности текстов
23.12.2025:a4dc95b ◆ Добавлен раздел "Адаптивность текстов и надписей" в принципы работы с компонентами ▶ Описан единый подход к адаптивности на мобильных устройствах: приоритет иконки (замена текста на мобильных), короткие версии текста (если нет иконки), полные версии (на десктопе), скрытие дополнительных элементов, управление через responsive prop. Указано применение в компонентах button, dropdown, dropdown-menu-item и возможность использования в других компонентах. Обновлено оглавление ◉ Задокументировать единый подход к адаптивности текстового содержимого для применения в других компонентах @docs @adaptivity @responsive @mobile @documentation

## Создание документации компонентов приложения
23.12.2025:f3715d4 ◆ Создан документ doc-components.md с описанием компонентов приложения ▶ Создан docs/doc-components.md с описанием принципов работы с компонентами (приоритет библиотек, использование Bootstrap, запрет кастомных стилей), описанием компонента dropdown-menu-item (API, особенности реализации), решением об использовании нативного Bootstrap dropdown-menu вместо кастомного компонента. Обновлено оглавление в docs/doc-architect.md ◉ Документировать компоненты приложения, зафиксировать решение об использовании нативного Bootstrap для контейнеров dropdown, обеспечить единообразный подход к компонентам @docs @components @bootstrap @documentation

## Обновление формата записей в тематических логах
22.12.2025:f033986 ◆ Обновлён формат записей в тематических логах для компактности @logs @format @refactoring

## Исправление несостыковок в документации libs-репозитория
22.12.2025:ebef9e5 ◆ Исправлены несостыковки в документации работы с libs-репозиторием, добавлена автоматическая активация протокола ▶ Добавлен раздел "Автоматическая активация" с алгоритмом загрузки библиотек, обновлён порядок действий: сначала загрузка в libs, затем обновление документации, добавлен `index.html` в структуру libs-репозитория, убрано упоминание неиспользуемого `manifest.json` ◉ Устранить противоречия в документации, унифицировать порядок действий, добавить автоматизацию @docs @libs-repo @automation @refactoring

## Переименование doc-vue-lib.md и создание протокола работы с libs-репозиторием
22.12.2025:77b002b ◆ Переименован `docs/doc-vue-lib.md` → `docs/doc-lib-vue.md`, создан протокол работы с libs-репозиторием ▶ Создан `docs/doc-lib-github.md` с протоколом: условия активации, последовательность действий, структура libs-репозитория, интеграция с MBB. Обновлены ссылки в `docs/doc-architect.md` ◉ Обеспечить единообразное именование файлов, документировать протокол работы с libs-репозиторием @docs @naming @protocol @libs-repo

## Документация Vue-библиотек и настройка libs-репозитория
22.12.2025:2b7d0a8 ◆ Создана документация по Vue-библиотекам и инструкция по настройке libs-репозитория ▶ Создан `docs/doc-vue-lib.md` с описанием рекомендуемых библиотек, принципом приоритета библиотек, схемой хранения через GitHub Pages CDN, механизмом загрузки с fallback. Создан `docs/lib-repo-setup.md` с инструкцией по настройке GitHub Pages. Обновлён `docs/doc-architect.md`: добавлен раздел "Библиотеки и зависимости" ◉ Документировать подход к использованию Vue-библиотек, подготовить инструкции по настройке инфраструктуры @docs @vue-lib @libraries @cdn

## Переименование docs/.cursorrules в doc-rules.md и исправление грамматики
22.12.2025:cbf401c ◆ Переименован `docs/.cursorrules` → `docs/doc-rules.md`, исправлена грамматика @refactoring @grammar @naming

## Переименование архитектурной документации и логов с префиксами
22.12.2025:37235af ◆ Переименованы файлы документации и тематических логов с добавлением префиксов ▶ Переименован `docs/architect.md` → `docs/doc-architect.md`, переименованы логи с префиксами `log-`, обновлены все перекрёстные ссылки, обновлён раздел "Декомпозиция компонентов" в `docs/doc-architect.md` ◉ Систематизировать именование файлов документации и логов, улучшить навигацию @docs @naming @refactoring @documentation

## Добавление архитектурного плана с технологическим стеком
22.12.2025:822e4e4 ◆ Создан `docs/doc-architect.md` с описанием технологического стека и принципов модульности ▶ Добавлены разделы: технологический стек (среда исполнения, фреймворки, работа фронтенда), технические ограничения (порядок загрузки, размещение компонентов), принципы модульности (вынос шаблонов, модульная система загрузки, группировка компонентов, правила размещения файлов, порядок загрузки, принципы именования, работа без сборки) ◉ Задокументировать технологический стек и архитектурные принципы проекта @docs @architect @tech-stack @modularity

## Исправление распределения записей в тематических логах
22.12.2025:a47f508 ◆ Исправлено распределение записей предыдущего коммита по тематическим логам @logs @fix @protocol

## Настройка протокола коммитов и тематических логов
22.12.2025:ef03fca ◆ Созданы правила работы с документацией и структура тематических логов ▶ Создан `docs/.cursorrules` с правилами работы с документацией, создана папка `docs/logs/` с тематическими логами ◉ Улучшить структуру документации, систематизировать логирование изменений по темам @docs @logs @structure
