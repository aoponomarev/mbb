# Руководство по интерфейсу и взаимодействию

> Оглавление `docs/doc-guide-ii.md`
- § Понятия — термины и определения для UI/UX
- § Принципы стилизации — общие подходы к оформлению
- § Макет и выравнивание — spacing, выравнивание высоты элементов, сетка
- § Компоненты — адаптивность, выравнивание, взаимодействие компонентов
- § Темы — светлая/темная тема, переключение, цветовая схема (зарезервировано)
- § Паттерны взаимодействия — навигация, формы, обратная связь, доступность (зарезервировано)

> § <br> ПОНЯТИЯ

- **Interface** — оформление, визуальные стили, компоненты интерфейса
- **Interaction** — паттерны UX, базовые паттерны взаимодействия приложения
- **Маркировка контейнеров** — автоматическая маркировка значимых контейнеров через CSS классы `avto-{Base58_8символов}` для навигации в коде через DevTools и указания агенту места в разметке. Классы `avto-*` используются только для маркировки, не используются в JS/CSS. Подробности в `docs/doc-architect.md` (раздел "Маркировка элементов DOM").
- **Детерминированный хэш экземпляра** — уникальный Base58 хэш, генерируемый через computed свойство `instanceHash` на основе props компонента для возможности кастомной стилизации конкретных экземпляров переиспользуемых компонентов. Подробности в `docs/doc-architect.md` (раздел "Детерминированные хэши компонентов").

> § <br> ПРИНЦИПЫ СТИЛИЗАЦИИ

## Приоритет Bootstrap

Использовать Bootstrap классы и утилиты в приоритете. Минимизировать кастомные CSS стили, inline стили и секции `<style>` в HTML файлах. Подробности в `docs/doc-components.md` (раздел "Запрет кастомных стилей") и `docs/doc-architect.md` (раздел "Фреймворки и UI").

## Вынесение стилей в отдельные файлы

Все кастомные CSS стили выносятся в отдельные файлы в структуре `app/styles/` или `shared/styles/`. Стили группируются по компонентам или функциональности.

## Документирование CSS

**Принцип трансляции конкретики CSS в комментарии**: Конкретные значения свойств, размеры, цвета, отступы и другие детали реализации CSS правил должны документироваться в комментариях соответствующих CSS файлов, а не в `doc-guide-ii.md`. В `doc-guide-ii.md` остаются только общие подходы, принципы и концепты.

**Правила переноса**:
- Конкретные значения свойств (размеры, отступы, цвета, z-index) → комментарии в соответствующих CSS файлах
- Детали реализации компонентов (структура, селекторы, медиа-запросы) → комментарии в соответствующих CSS файлах
- Общие принципы и концепты (приоритет Bootstrap, система z-index) → остаются в `doc-guide-ii.md`
- Паттерны использования и правила применения → остаются в `doc-guide-ii.md`

> § <br> МАКЕТ И ВЫРАВНИВАНИЕ

## Выравнивание высоты элементов

### Принцип работы

Выравнивание высоты элементов (кнопки, поля ввода, dropdown, badges, chips, индикаторы) достигается через **управление вертикальным padding внутреннего контейнера** на основе классов размеров Bootstrap.

### Проблема

Разные компоненты Bootstrap (`btn-sm`, `form-control-sm`, `btn-lg`, `form-control-lg`) имеют разные значения вертикального padding по умолчанию, что приводит к визуальному несоответствию высоты элементов одного размера в одном ряду.

### Решение

1. **Удаление жестко заданного вертикального padding** из внутреннего контейнера компонента (например, убрать `py-2` из `containerClasses()` в Vue-компоненте).

2. **Применение вертикального padding через CSS** на основе классов размеров Bootstrap, которые находятся на корневом элементе компонента.

3. **Использование селекторов** вида `.component-responsive.size-class > .inner-container` для привязки padding к размеру компонента.

### Структура компонента

```
<button class="btn btn-responsive btn-sm">
  <span class="d-flex align-items-center">
    <!-- содержимое -->
  </span>
</button>
```

### CSS правила

Вертикальный padding применяется к внутреннему контейнеру (`.d-flex`) на основе класса размера на корневом элементе:

```css
.component-responsive.size-class > .inner-container {
  padding-top: <значение> !important;
  padding-bottom: <значение> !important;
}
```

### Значения padding

Значения соответствуют нативным значениям Bootstrap для каждого размера. Конкретные значения см. в комментариях CSS файла `app/styles/responsive-breakpoints.css`.

### Горизонтальный padding

Горизонтальный padding остается нативным Bootstrap и управляется через стандартные классы `px-*` на корневом элементе компонента.

### Применение к другим элементам

Этот же метод может быть применен для выравнивания высоты:
- Badges (`badge-sm`, `badge-lg`)
- Chips (кастомные компоненты с классами размеров)
- Индикаторы (status indicators, dots)
- Любых других элементов с классами размеров Bootstrap

### Преимущества

- **Консистентность**: все элементы одного размера имеют одинаковую высоту
- **Нативность**: значения соответствуют Bootstrap, нет кастомных вычислений
- **Масштабируемость**: легко добавить поддержку для новых элементов
- **Гибкость**: горизонтальный padding остается нативным, вертикальный управляется централизованно

### Пример реализации

См. `app/styles/responsive-breakpoints.css` (секция "Вертикальный padding для внутреннего контейнера кнопки") и `shared/components/button.js` (метод `containerClasses()`).

## Spacing и отступы

Использование Bootstrap утилит для spacing (отступы, паддинги, марджины). Приоритет Bootstrap классам перед кастомными CSS правилами.

> § <br> КОМПОНЕНТЫ

## Адаптивность компонентов

### Принцип работы

Адаптивность компонентов управляется через **CSS классы компонентов** с вложенными селекторами для элементов. Вся логика видимости находится в CSS, а не в JavaScript.

### Классы компонентов

Каждый компонент получает класс адаптивности:
- `.btn-responsive` — для компонента button
- `.dropdown-responsive` — для компонента dropdown
- `.dropdown-menu-item-responsive` — для компонента dropdown-menu-item

### Элементы компонентов

Внутри компонентов элементы получают классы:
- `.icon` — иконка
- `.label` — полный текст
- `.label-short` — короткий текст (для button)
- `.button-text` — полный текст кнопки (для dropdown)
- `.button-text-short` — короткий текст кнопки (для dropdown)
- `.subtitle` — подзаголовок (для dropdown-menu-item)

### Брейкпоинт

Используется один брейкпоинт: **576px** (SM Bootstrap). Логика видимости управляется через `@media (min-width: 576px)` в файле `app/styles/responsive-breakpoints.css`.

### Логика видимости (mobile-first)

**Мобильные (< 576px):**
- Иконки видны, текст скрыт
- Если нет иконки, но есть короткий текст — показывается короткий текст
- Если нет ни иконки, ни короткого текста — показывается полный текст

**Десктоп (≥ 576px):**
- Иконки скрыты, текст виден
- Короткий текст скрыт, полный текст виден

### Условные классы

Компоненты автоматически получают условные классы:
- `.has-icon` — если задана иконка
- `.has-label-short` — если задан короткий текст (для button)
- `.has-text-short` — если задан короткий текст (для dropdown)

### Применение

Этот подход используется в компонентах `button`, `dropdown`, `dropdown-menu-item` и может применяться к другим компонентам с текстовым содержимым. Вся логика адаптивности находится в `app/styles/responsive-breakpoints.css`. Подробности реализации компонентов см. `docs/doc-components.md`.

## Выравнивание компонентов в ряду

Использование Bootstrap утилит для выравнивания компонентов (`d-flex`, `align-items-center`, `justify-content-*`).

> § <br> ТЕМЫ

*Раздел зарезервирован для будущей документации систем управления темами (цветовая схема, переключение темы).*

> § <br> ПАТТЕРНЫ ВЗАИМОДЕЙСТВИЯ

*Раздел зарезервирован для будущей документации паттернов взаимодействия (навигация, формы, обратная связь, доступность).*

