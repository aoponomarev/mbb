/**
 * Кастомные брейкпоинты для адаптивности компонентов
 *
 * ЦЕЛЬ: Предоставить адаптивность компонентов через классы компонентов и вложенные селекторы
 *
 * ПРОБЛЕМА: Bootstrap использует брейкпоинты для глобальной разметки (XS, SM, MD, LG, XL, XXL),
 * но компонентам нужен точный брейкпоинт 576px (SM Bootstrap) для управления видимостью элементов.
 *
 * РЕШЕНИЕ: Классы компонентов (.btn-responsive, .dropdown-responsive) с вложенными селекторами
 * для элементов (.icon, .label, .label-short, .suffix). Логика видимости управляется через
 * @media queries с брейкпоинтом 576px (mobile-first подход).
 *
 * ПРЕИМУЩЕСТВА:
 * - Вся логика адаптивности в CSS (не в JavaScript)
 * - Гибкость через классы-модификаторы (has-icon, has-label-short)
 * - Использование стандартного SM Bootstrap брейкпоинта (576px)
 * - Совместимость с Bootstrap responsive utilities
 * - Готовность к расширению через хэши для кастомных стилей (Фаза 2)
 */

/* ============================================================================
   КОМПОНЕНТ BUTTON
   ============================================================================ */

/* Базовые стили (mobile-first) */
.btn-responsive .icon {
  display: inline-block;
}

.btn-responsive .label {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

.btn-responsive .label-short {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Если есть иконка - скрыть текст на мобильных (текст показывается на десктопе через @media) */
.btn-responsive.has-icon .label {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

.btn-responsive.has-icon .label-short {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Если нет иконки, но есть короткий текст - показать его на мобильных */
.btn-responsive.has-label-short:not(.has-icon) .label-short {
  visibility: visible;
  font-size: inherit;
  line-height: inherit;
  max-width: none;
  overflow: visible;
  display: inline;
}

.btn-responsive.has-label-short:not(.has-icon) .label {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Десктоп 576px */
@media (min-width: 576px) {
  .btn-responsive .icon {
    display: none;
  }

  .btn-responsive .label {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }

  .btn-responsive.has-icon .label {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }

  .btn-responsive.has-label-short:not(.has-icon) .label-short {
    visibility: hidden;
    font-size: 0;
    line-height: 0;
    max-width: 0;
    overflow: hidden;
    display: inline;
  }

  .btn-responsive.has-label-short:not(.has-icon) .label {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }
}

/* Скрыть стандартный Bootstrap chevron для кнопок с классом dropdown-toggle внутри btn-responsive */
.btn-responsive.dropdown-toggle::after {
  display: none !important;
}

/* Вертикальный padding для внутреннего контейнера кнопки в зависимости от размера */
/* Привязка к классам размеров Bootstrap: btn-sm, btn-lg */
.btn-responsive.btn-sm > .d-flex {
  padding-top: 0.25rem !important; /* Соответствует btn-sm padding-y */
  padding-bottom: 0.25rem !important;
}

.btn-responsive:not(.btn-sm):not(.btn-lg) > .d-flex {
  padding-top: 0.375rem !important; /* Соответствует btn default padding-y */
  padding-bottom: 0.375rem !important;
}

.btn-responsive.btn-lg > .d-flex {
  padding-top: 0.5rem !important; /* Соответствует btn-lg padding-y */
  padding-bottom: 0.5rem !important;
}

/* ============================================================================
   КОМПОНЕНТ DROPDOWN
   ============================================================================ */

/* Базовые стили (mobile-first) */
.dropdown-responsive .icon {
  display: inline;
}

.dropdown-responsive .button-text {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

.dropdown-responsive .button-text-short {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Если есть иконка - скрыть текст на мобильных */
.dropdown-responsive.has-icon .button-text {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

.dropdown-responsive.has-icon .button-text-short {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Если нет иконки, но есть короткий текст - показать его на мобильных */
.dropdown-responsive.has-text-short:not(.has-icon) .button-text-short {
  visibility: visible;
  font-size: inherit;
  line-height: inherit;
  max-width: none;
  overflow: visible;
  display: inline;
}

.dropdown-responsive.has-text-short:not(.has-icon) .button-text {
  visibility: hidden;
  font-size: 0;
  line-height: 0;
  max-width: 0;
  overflow: hidden;
  display: inline;
}

/* Десктоп 576px */
@media (min-width: 576px) {
  .dropdown-responsive .icon {
    display: none;
  }

  .dropdown-responsive .button-text {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }

  .dropdown-responsive.has-icon .button-text {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }

  .dropdown-responsive.has-text-short:not(.has-icon) .button-text-short {
    visibility: hidden;
    font-size: 0;
    line-height: 0;
    max-width: 0;
    overflow: hidden;
    display: inline;
  }

  .dropdown-responsive.has-text-short:not(.has-icon) .button-text {
    visibility: visible;
    font-size: inherit;
    line-height: inherit;
    max-width: none;
    overflow: visible;
    display: inline;
  }
}

/* ============================================================================
   КОМПОНЕНТ DROPDOWN-MENU-ITEM
   ============================================================================ */

/* Базовые стили (mobile-first) */
.dropdown-menu-item-responsive .icon {
  display: flex;
}

.dropdown-menu-item-responsive .subtitle {
  display: block;
}

/* Десктоп 576px */
@media (min-width: 576px) {
  .dropdown-menu-item-responsive .subtitle {
    display: block;
  }
}

/* Скрытие подзаголовка на мобильных (если нужно) */
@media (max-width: 575px) {
  .dropdown-menu-item-responsive.hide-subtitle-mobile .subtitle {
    display: none;
  }
}
