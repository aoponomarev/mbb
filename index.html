<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBB - Statistics</title>

    <!--
    ================================================================================================
    ПРИНЦИПЫ МОДУЛЬНОСТИ И ОРГАНИЗАЦИИ ПРОЕКТА
    ================================================================================================

    ЦЕЛЬ: index.html служит только точкой подключения всех скриптов и стилей.
    Вся разметка компонентов, шаблоны и логика вынесены в отдельные модули.

    ------------------------------------------------------------------------------------------------
    1. ВЫНОС X-TEMPLATE ШАБЛОНОВ В ОТДЕЛЬНЫЕ ФАЙЛЫ
    ------------------------------------------------------------------------------------------------

    Проблема: В старом проекте все x-template шаблоны (17+ штук) находились внутри index.html,
    что раздувало файл до 1300+ строк.

    Решение:
    - Каждый x-template шаблон выносится в отдельный файл в папке shared/templates/ (переиспользуемые) или features/<feature-name>/templates/ (feature-specific)
    - Формат имени: <component-name>-template.html
    - Пример: shared/templates/button-template.html, features/layout/templates/splash-template.html

    Загрузка шаблонов:
    - Шаблоны загружаются динамически через fetch() ДО инициализации Vue.js
    - Загрузчик шаблонов находится в core/template-loader.js
    - Шаблоны вставляются в DOM как <script type="text/x-template"> элементы
    - Порядок загрузки критичен: шаблоны → Vue.js → компоненты → app

    Преимущества:
    - index.html остаётся компактным (только подключения)
    - Шаблоны легко находить и редактировать
    - Возможность переиспользования шаблонов
    - Улучшенная читаемость и поддержка

    ------------------------------------------------------------------------------------------------
    2. МОДУЛЬНАЯ СИСТЕМА ЗАГРУЗКИ СКРИПТОВ
    ------------------------------------------------------------------------------------------------

    Проблема: В старом проекте 30+ <script> тегов в index.html, сложно управлять порядком загрузки.

    Решение:
    - Создать конфигурационный файл core/modules-config.js с описанием всех модулей
    - Модули группируются по категориям: библиотеки, утилиты, core, domain, features, shared, app
    - Загрузчик модулей core/module-loader.js читает конфигурацию и загружает модули в правильном порядке
    - В index.html остаётся только подключение загрузчика модулей

    Структура modules-config.js:
    {
        libraries: [
            { src: 'https://cdn.../bootstrap.js', type: 'external' },
            { src: 'https://unpkg.com/vue@3...', type: 'external' }
        ],
        core: [
            { src: 'core/cfg-app.js', type: 'local', deps: [] },
            { src: 'core/api/coingecko.js', type: 'local', deps: ['core/cfg-app.js'] }
        ],
        shared: [
            { src: 'shared/components/button.js', type: 'local', deps: ['core/cfg-app.js'] }
        ],
        app: [
            { src: 'app/app-ui-root.js', type: 'local', deps: ['shared/**', 'features/**'] }
        ]
    }

    Преимущества:
    - Централизованное управление зависимостями
    - Автоматическая проверка порядка загрузки
    - Легко добавлять/удалять модули
    - Возможность условной загрузки модулей

    ------------------------------------------------------------------------------------------------
    3. ГРУППИРОВКА КОМПОНЕНТОВ И МОДУЛЕЙ
    ------------------------------------------------------------------------------------------------

    Принципы организации:

    a) По функциональности (features/):
       - features/markets/ - все компоненты и логика работы с рынками
       - features/portfolios/ - конструктор портфелей
       - features/metrics/ - расчёт и отображение метрик
       Каждая feature содержит: компоненты, утилиты, шаблоны, стили

    b) По слоям архитектуры:
       - core/ - базовые утилиты, конфигурация, API-обёртки
       - domain/ - бизнес-логика, сущности, сервисы
       - shared/ - переиспользуемые компоненты, стили, утилиты
       - app/ - корневой компонент приложения

    c) По типу файлов:
       - shared/templates/ - переиспользуемые x-template шаблоны
       - shared/components/ - переиспользуемые Vue компоненты
       - styles/ - общие CSS файлы (wrappers, layout, custom)
       - shared/utils/ - общие утилиты
       - shared/config/ - общая конфигурация
       - core/api/ - утилиты для работы с внешними API (чистые функции)
       - features/<feature-name>/components/ - feature-specific компоненты
       - features/<feature-name>/styles/ - feature-specific стили

    ------------------------------------------------------------------------------------------------
    4. ПРАВИЛА РАЗМЕЩЕНИЯ ФАЙЛОВ
    ------------------------------------------------------------------------------------------------

    Шаблоны (x-template):
    - shared/templates/<component-name>-template.html (переиспользуемые)
    - features/<feature-name>/templates/<component-name>-template.html (feature-specific)
    - Загружаются через core/template-loader.js

    Компоненты Vue:
    - shared/components/<component-name>.js (переиспользуемые)
    - features/<feature-name>/components/<component-name>.js (feature-specific)
    - Экспортируют Vue компонент через window или Vue.component()

    Стили:
    - styles/<category>/<component-name>.css (wrappers, layout, custom)
    - features/<feature-name>/styles/<component-name>.css (feature-specific — зарезервировано)

    ------------------------------------------------------------------------------------------------
    5. ПРАВИЛА ОФОРМЛЕНИЯ КАРТОЧЕК И ПОЛЕЙ
    ------------------------------------------------------------------------------------------------

    ВАЖНО: При оформлении карточек и полей в них необходимо учитывать поддержку темной темы.

    Запрещено использовать:
    - bg-light, bg-white — эти классы не адаптируются к темной теме и портят внешний вид
    - Любые фиксированные фоновые цвета без темо-зависимости

    Рекомендуется:
    - Избегать лишних фонов — использовать только border и padding для визуального разделения
    - Если фон необходим, использовать темо-зависимые классы Bootstrap: bg-body, bg-body-secondary
    - Для информационных блоков использовать bg-opacity-10 с border (например, bg-info bg-opacity-10)
    - Приоритет: минимализм и использование нативных возможностей Bootstrap для темной темы

    Примеры правильного оформления:
    - Карточка: <div class="mb-4 p-3 border rounded"> (без bg-light/bg-white)
    - Поле внутри карточки: <div class="p-2 border rounded"> (без bg-white)
    - Информационный блок: <div class="p-2 bg-info bg-opacity-10 rounded border border-info">

    Утилиты:
    - core/api/<api-name>.js - чистые функции для API (не Vue)
    - shared/utils/<utility-name>.js - общие утилиты
    - features/<feature-name>/utils/<utility-name>.js - feature-specific утилиты

    Конфигурация:
    - shared/config/<config-name>.js - общая конфигурация
    - features/<feature-name>/config/<config-name>.js - feature-specific конфигурация

    Математические модели:
    - mm/<model-name>/utils/ - утилиты модели
    - mm/<model-name>/core/ - ядро модели
    - mm/<model-name>/metrics/ - метрики модели

    ------------------------------------------------------------------------------------------------
    5. ПРИМЕРЫ МОДАЛЬНЫХ ОКОН
    ------------------------------------------------------------------------------------------------

    Для просмотра живого примера модального окна использовать клик по заголовку модального окна
    (элемент с классом modal-title) в статическом примере. Заголовок в примере является кликабельным
    и открывает соответствующее всплывающее модальное окно.

    ВАЖНО: Все копии/инстансы модального окна (статические примеры и всплывающие) должны сохранять
    полную функциональность. Кнопки в статических примерах должны выполнять те же действия, что и
    в реальных модальных окнах (сохранение данных, обновление связанных компонентов и т.д.).

    ------------------------------------------------------------------------------------------------
    6. ПОРЯДОК ЗАГРУЗКИ (КРИТИЧЕСКИ ВАЖНО)
    ------------------------------------------------------------------------------------------------

    1. Bootstrap CSS и внешние стили
    2. Локальные стили (theme, layout, components)
    3. Bootstrap JS
    4. Загрузчик шаблонов (core/template-loader.js) - загружает все x-template
    5. Конфигурация модулей (core/modules-config.js)
    6. Загрузчик модулей (core/module-loader.js) - загружает все скрипты по конфигурации
    7. Инициализация приложения (app/app-ui-root.js)

    Нарушение порядка приводит к ошибкам:
    - Vue не найдёт шаблоны, если они не загружены до Vue.js
    - Компоненты не загрузятся, если их зависимости не загружены
    - Стили не применятся, если загружены после разметки

    ------------------------------------------------------------------------------------------------
    6. ПРИНЦИПЫ ИМЕНОВАНИЯ
    ------------------------------------------------------------------------------------------------

    Файлы компонентов: kebab-case
    - shared/components/button.js
    - shared/components/system-messages.js

    Файлы шаблонов: kebab-case с суффиксом -template
    - shared/templates/button-template.html
    - features/layout/templates/splash-template.html

    Файлы утилит: kebab-case
    - core/api/coingecko.js
    - shared/utils/table-sort-mixin.js

    ID шаблонов в DOM: kebab-case (соответствует имени файла без расширения)
    - <script type="text/x-template" id="splash-template">
    - <script type="text/x-template" id="header-template">

    ------------------------------------------------------------------------------------------------
    7. РАБОТА БЕЗ СБОРКИ
    ------------------------------------------------------------------------------------------------

    Проект должен работать:
    - На GitHub Pages (HTTPS)
    - Локально через file:// протокол
    - Без использования bundler'ов (webpack, vite и т.п.)

    Ограничения:
    - Нет ES6 модулей (import/export)
    - Использование глобальных переменных через window.*
    - Динамическая загрузка через fetch() и eval() или создание <script> тегов
    - Относительные пути к файлам

    Преимущества:
    - Простота развёртывания
    - Нет необходимости в сборке
    - Быстрая разработка без компиляции

    ================================================================================================
    -->

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <!-- Стили компонентов (порядок загрузки важен!) -->
    <!-- 1. Базовые обертки над Bootstrap (независимые) -->
    <link rel="stylesheet" href="styles/wrappers/button.css">
    <link rel="stylesheet" href="styles/wrappers/dropdown-menu-item.css">
    <!-- 2. Составные обертки над Bootstrap (зависят от базовых) -->
    <link rel="stylesheet" href="styles/wrappers/dropdown.css">
    <link rel="stylesheet" href="styles/wrappers/button-group.css">
    <!-- 3. Компоненты макета -->
    <link rel="stylesheet" href="styles/layout/header.css">
    <link rel="stylesheet" href="styles/layout/footer.css">

    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Material Symbols (Sharp) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,400,0,0" />

    <!-- Локальные стили -->
    <!-- TODO: Добавить подключение стилей через модульную систему -->

</head>
<body class="min-vh-100 d-flex flex-column">
    <style>
        [v-cloak] {
            display: none !important;
        }
    </style>
    <div id="app" class="flex-grow-1 d-flex flex-column">
        <!-- Header приложения (фиксирован к верху) -->
        <app-header>
            <template #auth-button>
                <auth-button v-if="isAuthEnabled" @login-success="handleAuthLogin" @logout-success="handleAuthLogout"></auth-button>
            </template>
            <template #menu-items>
                <li><dropdown-menu-item title="Пункт меню 1" @click="handleClick"></dropdown-menu-item></li>
                <li><dropdown-menu-item title="Пункт меню 2" @click="handleClick"></dropdown-menu-item></li>
                <li><dropdown-menu-item title="Пункт меню 3" @click="handleClick"></dropdown-menu-item></li>
            </template>
            <template #settings-items>
                <li><dropdown-menu-item title="Light | Dark Theme" @click="toggleTheme"></dropdown-menu-item></li>
                <li><dropdown-menu-item :title="modalsConfig?.getModalTitle('timezoneModal') || 'Таймзона & i18n'" @click="openTimezoneModal"></dropdown-menu-item></li>
                <li><dropdown-menu-item :title="modalsConfig?.getModalTitle('aiApiModal') || 'AI API'" @click="openAiApiModal"></dropdown-menu-item></li>
            </template>
        </app-header>

        <!-- Основной контент с отступами для header и footer (Bootstrap spacing utilities) -->
        <div class="container-fluid pt-5 pb-5 d-flex flex-column flex-grow-1">
            <main class="flex-grow-1 d-flex flex-column">
                <!-- Контент приложения загружается через Vue компоненты -->
                <div class="container flex-grow-1">
                    <!-- ТЕСТИРОВАНИЕ ИНТЕГРАЦИИ GOOGLE-CLOUDFLARE -->
                    <div class="mb-4 p-3 border rounded">
                        <h2 class="mb-3">Тестирование интеграции Google-Cloudflare</h2>
                        <p class="text-muted small mb-3">
                            Тестирование этапов интеграции Google OAuth + Cloudflare R2 + D1.
                            Здесь будут тестироваться компоненты авторизации, работы с портфелями и датасетами.
                        </p>
                        <div class="alert alert-info mb-3">
                            <small>
                                <strong>Статус:</strong> Интеграция в разработке. Компоненты будут добавляться по мере реализации этапов плана.
                            </small>
                        </div>
                        <!-- Компонент управления портфелями (условно) -->
                        <portfolios-manager
                            v-if="isPortfoliosEnabled"
                            @portfolio-created="handlePortfolioCreated"
                            @portfolio-updated="handlePortfolioUpdated"
                            @portfolio-deleted="handlePortfolioDeleted"
                        ></portfolios-manager>
                        <div v-else class="alert alert-info">
                            <small>
                                <strong>Информация:</strong> Управление портфелями доступно только после авторизации и включения синхронизации с облаком.
                            </small>
                        </div>
                    </div>

                    <!-- Пример модального окна -->
                    <div class="mb-4">
                        <h2 class="mb-4">Пример модального окна</h2>
                        <p class="text-muted mb-3">Ниже показаны примеры модальных окон. Все модальные окна приложения используют систему управления кнопками через modalApi.</p>
                        <cmp-modal
                            ref="timezoneModalStatic"
                            modal-id="timezoneModalStatic"
                            :title="modalsConfig?.getModalTitle('timezoneModal')"
                            :centered="true"
                            :static="true">
                            <template #header>
                                <h5 class="modal-title" @click="openTimezoneModal" style="cursor: pointer;">{{ modalsConfig?.getModalTitle('timezoneModal') || 'Таймзона & i18n' }}</h5>
                                <button type="button" class="btn-close" aria-label="Закрыть"></button>
                            </template>
                            <template #body>
                                <timezone-modal-body
                                    v-model="selectedTimezone"
                                    :initial-value="initialTimezone"
                                    :translation-language="selectedTranslationLanguage"
                                    :initial-translation-language="initialTranslationLanguage"
                                    :on-save="saveTimezone"
                                    :on-cancel="cancelTimezone">
                                </timezone-modal-body>
                            </template>
                        </cmp-modal>
                        <cmp-modal
                            ref="timezoneModal"
                            modal-id="timezoneModal"
                            :title="modalsConfig?.getModalTitle('timezoneModal')"
                            :centered="true">
                            <template #header>
                                <h5 class="modal-title">{{ modalsConfig?.getModalTitle('timezoneModal') || 'Таймзона & i18n' }}</h5>
                                <button type="button" class="btn-close" aria-label="Закрыть" data-bs-dismiss="modal"></button>
                            </template>
                            <template #body>
                                <timezone-modal-body
                                    v-model="selectedTimezone"
                                    :initial-value="initialTimezone"
                                    :translation-language="selectedTranslationLanguage"
                                    :initial-translation-language="initialTranslationLanguage"
                                    :on-save="saveTimezone"
                                    :on-cancel="cancelTimezone">
                                </timezone-modal-body>
                            </template>
                        </cmp-modal>
                        <!-- Модалка настроек AI API -->
                        <cmp-modal
                            ref="aiApiModal"
                            modal-id="aiApiModal"
                            :title="modalsConfig?.getModalTitle('aiApiModal')"
                            :centered="true">
                            <template #header>
                                <h5 class="modal-title">{{ modalsConfig?.getModalTitle('aiApiModal') || 'AI API' }}</h5>
                                <button type="button" class="btn-close" aria-label="Закрыть" data-bs-dismiss="modal"></button>
                            </template>
                            <template #body>
                                <ai-api-settings></ai-api-settings>
                            </template>
                            <!-- Кнопки регистрируются автоматически через modalApi в ai-api-settings -->
                        </cmp-modal>
                        <!-- Пример с новой системой управления кнопками -->
                        <cmp-modal
                            ref="exampleModalNew"
                            modal-id="exampleModalNew"
                            :centered="true">
                            <template #header>
                                <h5 class="modal-title">Пример с системой управления кнопками</h5>
                                <button type="button" class="btn-close" aria-label="Закрыть" data-bs-dismiss="modal"></button>
                            </template>
                            <template #body>
                                <modal-example-body></modal-example-body>
                            </template>
                            <!-- Кнопки регистрируются автоматически через modalApi в modal-example-body -->
                        </cmp-modal>
                        <div class="mt-3">
                            <cmp-button
                                label="Открыть пример с новой системой"
                                variant="primary"
                                @click="openExampleModalNew">
                            </cmp-button>
                        </div>
                    </div>

                    <!-- ВРЕМЕННЫЙ ПРИМЕР: Тестирование системы перевода tooltips -->
                    <div class="mb-4 p-3 border rounded">
                        <h2 class="mb-3">Тестирование системы перевода tooltips</h2>
                        <p class="text-muted small mb-3">
                            Проверка работы tooltipsConfig.getTooltip() для разных типов tooltips.
                            При смене языка перевода в настройках tooltips должны автоматически обновляться.
                        </p>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Сохранить"
                                icon="fas fa-save"
                                :tooltip-icon="tooltips['button.save.icon'] || 'Иконка: Сохранить'"
                                :tooltip-text="tooltips['button.save.text'] || 'Основной текст: Сохранить изменения'"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Удалить"
                                icon="fas fa-trash"
                                variant="danger"
                                :tooltip-icon="tooltips['button.delete.icon'] || 'Иконка: Удалить'"
                                :tooltip-text="tooltips['button.delete.text'] || 'Основной текст: Удалить элемент'"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Загрузить"
                                icon="fas fa-download"
                                variant="success"
                                :tooltip-icon="tooltips['button.load.icon'] || 'Иконка: Загрузить'"
                                :tooltip-text="tooltips['button.load.text'] || 'Основной текст: Загрузить файл'"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Уведомления"
                                icon="fas fa-bell"
                                :tooltip-icon="tooltips['button.notifications.icon'] || 'Иконка: Уведомления'"
                                :tooltip-text="tooltips['button.notifications.text'] || 'Основной текст: Просмотр уведомлений'"
                                :suffix="{ type: 'badge', value: 5, variant: 'secondary', tooltip: tooltips['button.notifications.suffix.badge'] || 'Суффикс: 5 новых уведомлений' }"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Экспорт"
                                icon="fas fa-download"
                                :tooltip-icon="tooltips['button.export.icon'] || 'Иконка: Экспорт'"
                                :tooltip-text="tooltips['button.export.text'] || 'Основной текст: Экспорт данных'"
                                :suffix="{ type: 'icon', value: 'fas fa-external-link-alt', tooltip: tooltips['button.export.suffix.icon'] || 'Суффикс: Открыть в новой вкладке' }"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Справка"
                                icon="fas fa-question-circle"
                                :tooltip-icon="tooltips['button.help.icon'] || 'Иконка: Справка'"
                                :tooltip-text="tooltips['button.help.text'] || 'Основной текст: Открыть справку'"
                                :suffix="{ type: 'info', value: 'fas fa-info-circle text-info', tooltip: tooltips['button.help.suffix.info'] || 'Суффикс: Открыть справку' }"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                        <div class="mt-3 p-2 border rounded">
                            <small class="text-muted">
                                <strong>Текущий язык:</strong> {{ currentTranslationLanguage || 'ru' }} |
                                <strong>tooltipsConfig:</strong> {{ tooltipsConfig ? 'загружен' : 'не загружен' }}
                            </small>
                        </div>
                    </div>

                    <!-- ВРЕМЕННЫЙ ПРИМЕР: Тестирование Yandex API -->
                    <div class="mb-4 p-3 border rounded">
                        <h2 class="mb-3">Тестирование Yandex API</h2>
                        <p class="text-muted small mb-3">
                            Проверка работы YandexGPT API через aiProviderManager.
                            Введите свой запрос или используйте случайный.
                        </p>
                        <div class="row g-3">
                            <!-- Левая колонка: запрос и кнопка -->
                            <div class="col-md-6">
                                <div class="d-flex flex-column h-100">
                                    <label for="yandex-test-query" class="form-label mb-2">
                                        <strong>Запрос:</strong>
                                    </label>
                                    <textarea
                                        id="yandex-test-query"
                                        name="yandex-test-query"
                                        class="form-control flex-grow-1 mb-3"
                                        v-model="yandexTestInputQuery"
                                        placeholder="Введите ваш запрос или оставьте пустым для случайного запроса"
                                        rows="8"
                                        :disabled="yandexTestLoading"
                                        style="resize: vertical; min-height: 150px;">
                                    </textarea>
                                    <div class="d-flex gap-2">
                                        <cmp-button
                                            label="Отправить"
                                            icon="fas fa-paper-plane"
                                            variant="primary"
                                            :disabled="yandexTestLoading"
                                            @click="testYandexAPI(false)">
                                        </cmp-button>
                                        <cmp-button
                                            label="Случайный"
                                            icon="fas fa-dice"
                                            variant="outline-secondary"
                                            :disabled="yandexTestLoading"
                                            @click="testYandexAPI(true)">
                                        </cmp-button>
                                    </div>
                                    <div v-if="yandexTestLoading" class="mt-3 p-2 bg-info bg-opacity-10 rounded border border-info">
                                        <div class="d-flex align-items-center">
                                            <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                                                <span class="visually-hidden">Загрузка...</span>
                                            </div>
                                            <span class="small">Отправка запроса...</span>
                                        </div>
                                    </div>
                                    <div v-show="yandexTestError && yandexTestError.trim() !== ''" class="mt-3 p-2 bg-danger bg-opacity-10 rounded border border-danger" v-cloak>
                                        <small class="text-danger d-block mb-1"><strong>Ошибка:</strong></small>
                                        <div class="text-break text-danger small" v-text="yandexTestError"></div>
                                    </div>
                                </div>
                            </div>
                            <!-- Правая колонка: ответ -->
                            <div class="col-md-6">
                                <div class="d-flex flex-column h-100">
                                    <label class="form-label mb-2">
                                        <strong>Ответ:</strong>
                                    </label>
                                    <div class="flex-grow-1 p-3 border rounded" style="min-height: 200px; max-height: 500px; overflow-y: auto;">
                                        <div v-if="!yandexTestResponse && !yandexTestLoading && (!yandexTestError || yandexTestError === '')" class="text-muted text-center d-flex align-items-center justify-content-center h-100">
                                            <small>Ответ появится здесь после отправки запроса</small>
                                        </div>
                                        <div v-if="yandexTestResponse" class="text-break" style="white-space: pre-wrap;">{{ yandexTestResponse }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Тестовая секция для визуального контроля высоты -->
                    <div class="mb-4 p-3 border rounded">
                        <h2 class="mb-4">Визуальный контроль высоты элементов</h2>
                        <div class="d-flex align-items-center" style="gap: 0;">
                            <!-- Поле ввода -->
                            <input type="text" class="form-control form-control-sm" placeholder="Поле" style="width: 100px; border-radius: 0.375rem 0 0 0.375rem; border-right: none;">
                            <!-- Кнопка -->
                            <cmp-button label="Кнопка" variant="primary" size="sm" :button-attributes="{ 'style': 'border-radius: 0; border-left: none; border-right: none;' }"></cmp-button>
                            <!-- Группа радиокнопок -->
                            <cmp-button-group
                                size="sm"
                                :buttons="[
                                    { type: 'radio', label: 'Опция 1', variant: 'outline-primary' },
                                    { type: 'radio', label: 'Опция 2', variant: 'outline-primary' }
                                ]">
                            </cmp-button-group>
                            <!-- Dropdown -->
                            <cmp-dropdown button-text="Меню" button-variant="primary" button-size="sm">
                                <template #items>
                                    <li><dropdown-menu-item title="Пункт 1" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 2" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 3" @click="handleClick"></dropdown-menu-item></li>
                                </template>
                            </cmp-dropdown>
                        </div>
                        <style>
                            /* Убираем border-radius и промежуточные границы для элементов встык */
                            .d-flex.align-items-center > input + cmp-button button,
                            .d-flex.align-items-center > cmp-button + cmp-button-group .btn-group > .btn:first-child {
                                border-radius: 0 !important;
                                border-left: none !important;
                            }
                            .d-flex.align-items-center > cmp-button-group + cmp-dropdown .dropdown-responsive button {
                                border-radius: 0 !important;
                                border-left: none !important;
                            }
                            .d-flex.align-items-center > cmp-dropdown:last-child .dropdown-responsive button {
                                border-radius: 0 0.375rem 0.375rem 0 !important;
                            }
                        </style>
                    </div>

                    <h2 class="mb-4">Примеры компонента button-group</h2>

                    <!-- Базовые примеры -->
                    <div class="mb-4">
                        <h3 class="mb-3">Базовые примеры</h3>

                        <!-- Простая группа кнопок -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Простая группа кнопок</h4>
                            <cmp-button-group
                                :buttons="[
                                    { type: 'button', label: 'Сохранить', variant: 'primary' },
                                    { type: 'button', label: 'Отмена', variant: 'secondary' },
                                    { type: 'button', label: 'Удалить', variant: 'danger' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                        </div>

                        <!-- Группа с checkbox -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Группа с checkbox</h4>
                            <cmp-button-group
                                :buttons="[
                                    { type: 'checkbox', label: 'Фильтр 1', variant: 'outline-primary' },
                                    { type: 'checkbox', label: 'Фильтр 2', variant: 'outline-primary', active: true },
                                    { type: 'checkbox', label: 'Фильтр 3', variant: 'outline-primary' }
                                ]"
                                @button-change="(event, data) => console.log('Checkbox change:', data)">
                            </cmp-button-group>
                        </div>

                        <!-- Группа с radio -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Группа с radio</h4>
                            <cmp-button-group
                                :buttons="[
                                    { type: 'radio', label: 'Вариант 1', variant: 'outline-success' },
                                    { type: 'radio', label: 'Вариант 2', variant: 'outline-success', active: true },
                                    { type: 'radio', label: 'Вариант 3', variant: 'outline-success' }
                                ]"
                                @button-change="(event, data) => console.log('Radio change:', data)">
                            </cmp-button-group>
                        </div>
                    </div>

                    <!-- Адаптивное схлопывание -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Адаптивное схлопывание в dropdown</h3>
                        <p class="text-muted mb-3">Группы кнопок автоматически превращаются в dropdown при достижении указанного breakpoint. Измените ширину окна браузера, чтобы увидеть переключение.</p>

                        <!-- Breakpoint: sm (576px) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Breakpoint: sm (≥576px видна группа, &lt;576px dropdown) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="sm"
                                dropdown-label="Действия"
                                dropdown-icon="fas fa-bars"
                                :buttons="[
                                    { type: 'button', label: 'Сохранить', variant: 'primary', icon: 'fas fa-save' },
                                    { type: 'button', label: 'Редактировать', variant: 'secondary', icon: 'fas fa-edit' },
                                    { type: 'button', label: 'Удалить', variant: 'danger', icon: 'fas fa-trash' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                        </div>

                        <!-- Breakpoint: md (768px) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Breakpoint: md (≥768px видна группа, &lt;768px dropdown) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="md"
                                dropdown-label="Опции"
                                dropdown-icon="fas fa-ellipsis-v"
                                dropdown-variant="info"
                                :buttons="[
                                    { type: 'button', label: 'Экспорт', variant: 'success', icon: 'fas fa-download' },
                                    { type: 'button', label: 'Импорт', variant: 'warning', icon: 'fas fa-upload' },
                                    { type: 'checkbox', label: 'Показать скрытые', variant: 'outline-secondary' }
                                ]"
                                @button-click="handleButtonGroupClick"
                                @button-change="(event, data) => console.log('Change:', data)">
                            </cmp-button-group>
                        </div>

                        <!-- Breakpoint: lg (992px) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Breakpoint: lg (≥992px видна группа, &lt;992px dropdown) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="lg"
                                dropdown-label="Меню"
                                :buttons="[
                                    { type: 'button', label: 'Действие 1', variant: 'primary' },
                                    { type: 'button', label: 'Действие 2', variant: 'secondary' },
                                    { type: 'button', label: 'Действие 3', variant: 'success' },
                                    { type: 'button', label: 'Действие 4', variant: 'info' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                        </div>

                        <!-- Breakpoint: xl (1200px) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Breakpoint: xl (≥1200px видна группа, &lt;1200px dropdown) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="xl"
                                dropdown-label="Инструменты"
                                dropdown-icon="fas fa-tools"
                                size="sm"
                                :buttons="[
                                    { type: 'button', label: 'Инструмент 1', variant: 'outline-primary', size: 'sm' },
                                    { type: 'button', label: 'Инструмент 2', variant: 'outline-primary', size: 'sm' },
                                    { type: 'button', label: 'Инструмент 3', variant: 'outline-primary', size: 'sm' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                        </div>

                        <!-- Смешанный состав с адаптивностью -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Смешанный состав с адаптивностью (md breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="md"
                                dropdown-label="Действия"
                                variant="secondary"
                                :buttons="[
                                    { type: 'button', label: 'Действие', variant: 'primary' },
                                    { type: 'checkbox', label: 'Фильтр', variant: 'outline-secondary' },
                                    { type: 'radio', label: 'Опция 1', variant: 'outline-info' },
                                    { type: 'radio', label: 'Опция 2', variant: 'outline-info', active: true }
                                ]"
                                @button-click="handleButtonGroupClick"
                                @button-change="(event, data) => console.log('Change:', data)">
                            </cmp-button-group>
                        </div>
                    </div>

                    <!-- Наследование стилей -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Наследование variant и size</h3>

                        <div class="mb-3">
                            <h4 class="h6 mb-2">Наследование от группы</h4>
                            <cmp-button-group
                                variant="success"
                                size="lg"
                                :buttons="[
                                    { type: 'button', label: 'Кнопка 1' },
                                    { type: 'button', label: 'Кнопка 2', variant: 'danger' },
                                    { type: 'checkbox', label: 'Чекбокс' }
                                ]">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Все кнопки наследуют success lg, кроме "Кнопка 2" (danger lg)</p>
                        </div>
                    </div>

                    <!-- Примеры адаптивности -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Примеры компонента группы кнопок с разными вариантами адаптивности</h3>
                        <p class="text-muted mb-3">Различные варианты настройки адаптивного поведения группы кнопок. Измените ширину окна браузера, чтобы увидеть переключение между группой и dropdown.</p>

                        <!-- Без адаптивности (всегда группа) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Без адаптивности (всегда группа кнопок)</h4>
                            <cmp-button-group
                                :buttons="[
                                    { type: 'button', label: 'Действие 1', variant: 'primary' },
                                    { type: 'button', label: 'Действие 2', variant: 'secondary' },
                                    { type: 'button', label: 'Действие 3', variant: 'success' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Группа всегда отображается как группа кнопок, независимо от размера экрана</p>
                        </div>

                        <!-- Адаптивная вертикальная ориентация (вертикально на мобильном, горизонтально на десктопе) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивная вертикальная ориентация (sm breakpoint)</h4>
                            <cmp-button-group
                                vertical-breakpoint="sm"
                                :buttons="[
                                    { type: 'button', label: 'Короткая', variant: 'primary' },
                                    { type: 'button', label: 'Средняя по длине', variant: 'secondary' },
                                    { type: 'button', label: 'Очень длинная кнопка', variant: 'success' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Группа отображается вертикально на экранах &lt;576px и горизонтально на экранах ≥576px</p>
                        </div>

                        <!-- Адаптивность с checkbox (sm) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность с checkbox (sm breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="sm"
                                dropdown-label="Фильтры"
                                dropdown-icon="fas fa-filter"
                                dropdown-variant="outline-primary"
                                :buttons="[
                                    { type: 'checkbox', label: 'Фильтр 1', variant: 'outline-primary' },
                                    { type: 'checkbox', label: 'Фильтр 2', variant: 'outline-primary', active: true },
                                    { type: 'checkbox', label: 'Фильтр 3', variant: 'outline-primary' }
                                ]"
                                @button-change="(event, data) => console.log('Checkbox change:', data)">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Группа checkbox превращается в dropdown на экранах &lt;576px</p>
                        </div>

                        <!-- Адаптивность с radio (md) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность с radio (md breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="md"
                                dropdown-label="Выбор"
                                dropdown-icon="fas fa-check-circle"
                                dropdown-variant="outline-success"
                                :buttons="[
                                    { type: 'radio', label: 'Вариант 1', variant: 'outline-success' },
                                    { type: 'radio', label: 'Вариант 2', variant: 'outline-success', active: true },
                                    { type: 'radio', label: 'Вариант 3', variant: 'outline-success' }
                                ]"
                                @button-change="(event, data) => console.log('Radio change:', data)">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Группа radio превращается в dropdown на экранах &lt;768px</p>
                        </div>

                        <!-- Адаптивность с наследованием стилей (lg) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность с наследованием стилей (lg breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="lg"
                                dropdown-label="Инструменты"
                                variant="info"
                                size="sm"
                                :buttons="[
                                    { type: 'button', label: 'Инструмент 1', icon: 'fas fa-wrench' },
                                    { type: 'button', label: 'Инструмент 2', icon: 'fas fa-screwdriver' },
                                    { type: 'button', label: 'Инструмент 3', variant: 'warning', icon: 'fas fa-hammer' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Все кнопки наследуют info sm, кроме "Инструмент 3" (warning sm). Группа превращается в dropdown на экранах &lt;992px</p>
                        </div>

                        <!-- Адаптивность с разными размерами dropdown (xl) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность с разными размерами dropdown (xl breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="xl"
                                dropdown-label="Большое меню"
                                dropdown-icon="fas fa-bars"
                                dropdown-variant="primary"
                                dropdown-size="lg"
                                :buttons="[
                                    { type: 'button', label: 'Пункт 1', variant: 'primary', size: 'lg' },
                                    { type: 'button', label: 'Пункт 2', variant: 'primary', size: 'lg' },
                                    { type: 'button', label: 'Пункт 3', variant: 'primary', size: 'lg' }
                                ]"
                                @button-click="handleButtonGroupClick">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Группа превращается в большой dropdown на экранах &lt;1200px</p>
                        </div>

                        <!-- Адаптивность со смешанными типами (sm) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность со смешанными типами (sm breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="sm"
                                dropdown-label="Действия"
                                dropdown-icon="fas fa-ellipsis-h"
                                variant="secondary"
                                :buttons="[
                                    { type: 'button', label: 'Сохранить', variant: 'primary', icon: 'fas fa-save' },
                                    { type: 'checkbox', label: 'Автосохранение', variant: 'outline-secondary' },
                                    { type: 'radio', label: 'Режим 1', variant: 'outline-info' },
                                    { type: 'radio', label: 'Режим 2', variant: 'outline-info', active: true }
                                ]"
                                @button-click="handleButtonGroupClick"
                                @button-change="(event, data) => console.log('Change:', data)">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Смешанная группа с button, checkbox и radio. Группа превращается в dropdown на экранах &lt;576px</p>
                        </div>

                        <!-- Адаптивность с кастомным dropdown (md) -->
                        <div class="mb-3">
                            <h4 class="h6 mb-2">Адаптивность с кастомным dropdown (md breakpoint) <span class="text-muted small">[Bootstrap-классы]</span></h4>
                            <cmp-button-group
                                collapse-breakpoint="md"
                                dropdown-label="Опции"
                                dropdown-icon="fas fa-cog"
                                dropdown-variant="outline-dark"
                                dropdown-size="sm"
                                size="sm"
                                :buttons="[
                                    { type: 'button', label: 'Таймзона & i18n', variant: 'outline-dark', size: 'sm', icon: 'fas fa-adjust', onClick: () => vm.openTimezoneModal() },
                                    { type: 'checkbox', label: 'Включить', variant: 'outline-dark' }
                                ]"
                                @button-click="handleButtonGroupClick"
                                @button-change="(event, data) => console.log('Change:', data)">
                            </cmp-button-group>
                            <p class="mt-2 text-muted small">Компактная группа с кастомными настройками dropdown. Группа превращается в dropdown на экранах &lt;768px</p>
                        </div>
                    </div>

                    <h2 class="mb-4">Примеры компонента combobox</h2>

                    <!-- Базовый комбобокс -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Базовый комбобокс</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue1"
                                :items="comboboxItems"
                                placeholder="Выберите или введите..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue1 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс с иконкой -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С иконкой</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue2"
                                :items="comboboxItems"
                                icon="fas fa-search"
                                placeholder="Поиск..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue2 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс с автодополнением и подсветкой -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С автодополнением и подсветкой</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue3"
                                :items="comboboxItems"
                                :highlight-matches="true"
                                placeholder="Начните вводить..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue3 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс с прокруткой -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С прокруткой (длинный список)</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue4"
                                :items="comboboxLongList"
                                :scrollable="true"
                                max-height="200px"
                                placeholder="Выберите из списка..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue4 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс только из списка (strict) -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Только из списка (strict, без произвольного ввода)</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue5"
                                :items="comboboxItems"
                                :strict="true"
                                :allow-custom="false"
                                placeholder="Только из списка..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue5 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс в режиме простого input -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Режим простого текстового поля (mode="input")</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue6"
                                mode="input"
                                placeholder="Простое текстовое поле..."
                                @input="handleComboboxInput">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Значение: {{ comboboxValue6 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс с кастомной фильтрацией -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С кастомной функцией фильтрации</h3>
                        <div style="max-width: 400px;">
                            <cmp-combobox
                                v-model="comboboxValue7"
                                :items="comboboxItems"
                                :filter-function="customFilterFunction"
                                placeholder="Поиск по описанию..."
                                @select="handleComboboxSelect">
                            </cmp-combobox>
                            <p class="mt-2 text-muted small">Выбрано: {{ comboboxValue7 || '(пусто)' }}</p>
                        </div>
                    </div>

                    <!-- Комбобокс с длинным списком -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С длинным списком (без прокрутки)</h3>
                        <div class="input-group mb-3" style="max-width: 400px;">
                            <input type="text" class="form-control" placeholder="Выберите элемент..." aria-label="Комбобокс">
                            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"></button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#">Элемент 1</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 2</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 3</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 4</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 5</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 6</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 7</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 8</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 9</a></li>
                                <li><a class="dropdown-item" href="#">Элемент 10</a></li>
                            </ul>
                        </div>
                    </div>

                    <hr class="my-5">

                    <h2 class="mb-4">Примеры компонента button</h2>

                    <!-- Базовые варианты -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Базовые варианты</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button label="Primary" variant="primary" @click="handleClick"></cmp-button>
                            <cmp-button label="Secondary" variant="secondary" @click="handleClick"></cmp-button>
                            <cmp-button label="Success" variant="success" @click="handleClick"></cmp-button>
                            <cmp-button label="Danger" variant="danger" @click="handleClick"></cmp-button>
                            <cmp-button label="Warning" variant="warning" @click="handleClick"></cmp-button>
                            <cmp-button label="Info" variant="info" @click="handleClick"></cmp-button>
                            <cmp-button label="Light" variant="light" @click="handleClick"></cmp-button>
                            <cmp-button label="Dark" variant="dark" @click="handleClick"></cmp-button>
                        </div>
                    </div>

                    <!-- Outline варианты -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Outline варианты</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button label="Primary" variant="outline-primary" @click="handleClick"></cmp-button>
                            <cmp-button label="Secondary" variant="outline-secondary" @click="handleClick"></cmp-button>
                            <cmp-button label="Success" variant="outline-success" @click="handleClick"></cmp-button>
                            <cmp-button label="Danger" variant="outline-danger" @click="handleClick"></cmp-button>
                        </div>
                    </div>

                    <!-- Размеры -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Размеры</h3>
                        <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
                            <cmp-button label="Small" size="sm" @click="handleClick"></cmp-button>
                            <cmp-button label="Default" @click="handleClick"></cmp-button>
                            <cmp-button label="Large" size="lg" @click="handleClick"></cmp-button>
                        </div>
                    </div>

                    <!-- С иконками -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С иконками</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Сохранить"
                                icon="fas fa-save"
                                tooltip-icon="Иконка: Сохранить"
                                tooltip-text="Основной текст: Сохранить изменения"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Удалить"
                                icon="fas fa-trash"
                                variant="danger"
                                tooltip-icon="Иконка: Удалить"
                                tooltip-text="Основной текст: Удалить элемент"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Загрузить"
                                icon="fas fa-download"
                                variant="success"
                                tooltip-icon="Иконка: Загрузить"
                                tooltip-text="Основной текст: Загрузить файл"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                icon="fas fa-cog"
                                variant="secondary"
                                tooltip-icon="Иконка: Настройки"
                                tooltip-text="Основной текст: Открыть настройки"
                                @click="handleClick">
                            </cmp-button>
                            <!-- С укороченным текстом на мобильных (без иконки) -->
                            <cmp-button
                                label="Сохранить изменения"
                                label-short="Сохранить"
                                tooltip-text="Основной текст: Сохранить все изменения"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Открыть настройки"
                                label-short="Настройки"
                                variant="secondary"
                                tooltip-text="Основной текст: Открыть настройки приложения"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                    </div>

                    <!-- Размеры с иконками (квадратные обертки иконок) -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Размеры с иконками (квадратные обертки иконок)</h3>
                        <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
                            <cmp-button
                                label="Small"
                                icon="fas fa-save"
                                size="sm"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Default"
                                icon="fas fa-save"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Large"
                                icon="fas fa-save"
                                size="lg"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                        <p class="text-muted small">Обратите внимание: обертки иконок квадратные и масштабируются вместе с размером кнопки (height: 1em, width: 1em - квадрат по высоте строки, flexbox центрирование)</p>
                    </div>

                    <!-- С суффиксами -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">С суффиксами</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Уведомления"
                                icon="fas fa-bell"
                                tooltip-icon="Иконка: Уведомления"
                                tooltip-text="Основной текст: Просмотр уведомлений"
                                :suffix="{ type: 'badge', value: 5, variant: 'secondary', tooltip: 'Суффикс: 5 новых уведомлений' }"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Экспорт"
                                icon="fas fa-download"
                                tooltip-icon="Иконка: Экспорт"
                                tooltip-text="Основной текст: Экспорт данных"
                                :suffix="{ type: 'icon', value: 'fas fa-external-link-alt', tooltip: 'Суффикс: Открыть в новой вкладке' }"
                                @click="handleClick"
                                @click-suffix="handleSuffixClick">
                            </cmp-button>
                            <cmp-button
                                label="Соединение"
                                icon="fas fa-wifi"
                                tooltip-icon="Иконка: Соединение"
                                tooltip-text="Основной текст: Статус подключения"
                                :suffix="{ type: 'indicator', value: 'fas fa-circle text-success', tooltip: 'Суффикс: Статус: Активен' }"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Меню"
                                tooltip-text="Основной текст: Раскрыть меню"
                                :suffix="{ type: 'chevron', value: 'fas fa-chevron-down', expanded: isMenuExpanded, tooltip: 'Суффикс: Раскрыть/свернуть меню' }"
                                @click="toggleMenu">
                            </cmp-button>
                            <cmp-button
                                label="Справка"
                                icon="fas fa-question-circle"
                                tooltip-icon="Иконка: Справка"
                                tooltip-text="Основной текст: Открыть справку"
                                :suffix="{ type: 'info', value: 'fas fa-info-circle text-info', tooltip: 'Суффикс: Открыть справку' }"
                                @click="handleClick"
                                @click-suffix="handleInfoClick">
                            </cmp-button>
                        </div>
                    </div>

                    <!-- Множественные badge -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Множественные badge</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Уведомления"
                                icon="fas fa-bell"
                                tooltip-icon="Иконка: Уведомления"
                                tooltip-text="Основной текст: Просмотр уведомлений"
                                :suffix="[
                                    { type: 'badge', value: 5, variant: 'secondary', tooltip: 'Суффикс 1: 5 новых уведомлений' },
                                    { type: 'badge', value: 'New', variant: 'primary', tooltip: 'Суффикс 2: Новая функция' }
                                ]"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                    </div>

                    <!-- Состояния -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Состояния</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button label="Active" @click="handleClick"></cmp-button>
                            <cmp-button label="Disabled" :disabled="true" @click="handleClick"></cmp-button>
                            <cmp-button label="Loading" :loading="true" @click="handleClick"></cmp-button>
                            <cmp-button label="Disabled + Loading" :disabled="true" :loading="true" @click="handleClick"></cmp-button>
                        </div>
                    </div>

                    <!-- Типы кнопок -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Типы кнопок</h3>
                        <p class="text-muted small mb-2">На экранах &lt; 576px надписи замещаются иконками</p>
                        <form class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Button"
                                icon="fas fa-hand-pointer"
                                type="button"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Submit"
                                icon="fas fa-check"
                                type="submit"
                                variant="success"
                                @click="handleClick">
                            </cmp-button>
                            <cmp-button
                                label="Reset"
                                icon="fas fa-undo"
                                type="reset"
                                variant="warning"
                                @click="handleClick">
                            </cmp-button>
                        </form>
                    </div>


                    <!-- Адаптивность (мобильные состояния) -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Адаптивность (мобильные состояния)</h3>
                        <p class="text-muted small mb-2">На мобильных устройствах текст скрывается, если есть иконка (измените размер окна для проверки)</p>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button label="Сохранить" icon="fas fa-save" @click="handleClick"></cmp-button>
                            <cmp-button label="Удалить" icon="fas fa-trash" variant="danger" @click="handleClick"></cmp-button>
                            <cmp-button label="Настройки" icon="fas fa-cog" variant="secondary" @click="handleClick"></cmp-button>
                            <cmp-button
                                label="Уведомления"
                                icon="fas fa-bell"
                                :suffix="{ type: 'badge', value: 5, variant: 'secondary' }"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                        <p class="text-muted small mb-2">Текст всегда виден, если нет иконки:</p>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button label="Только текст" @click="handleClick"></cmp-button>
                            <cmp-button
                                label="Текст с badge"
                                :suffix="{ type: 'badge', value: 'New', variant: 'primary' }"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                        <p class="text-muted small mb-2">Адаптивность управляется через CSS классы (измените размер окна для проверки):</p>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Сохранить"
                                icon="fas fa-save"
                                tooltip-icon="Иконка: Сохранить"
                                tooltip-text="Основной текст: Сохранить изменения"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                        <p class="text-muted small mb-2">С укороченным текстом на мобильных:</p>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-button
                                label="Сохранить изменения"
                                label-short="Сохранить"
                                @click="handleClick">
                            </cmp-button>
                        </div>
                    </div>

                    <hr class="my-5">

                    <h2 class="mb-4">Примеры компонента dropdown</h2>

                    <!-- Базовый dropdown -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Базовый dropdown</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-dropdown button-text="Выбрать пункт">
                                <template #items>
                                    <li><dropdown-menu-item title="Пункт 1" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 2" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 3" @click="handleClick"></dropdown-menu-item></li>
                                </template>
                            </cmp-dropdown>
                            <!-- С иконкой на мобильных -->
                            <cmp-dropdown
                                button-text="Выбрать пункт"
                                button-icon="fas fa-chevron-down">
                                <template #items>
                                    <li><dropdown-menu-item title="Пункт 1" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 2" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 3" @click="handleClick"></dropdown-menu-item></li>
                                </template>
                            </cmp-dropdown>
                            <!-- С укороченным текстом на мобильных -->
                            <cmp-dropdown
                                button-text="Выбрать пункт"
                                button-text-short="Выбрать">
                                <template #items>
                                    <li><dropdown-menu-item title="Пункт 1" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 2" @click="handleClick"></dropdown-menu-item></li>
                                    <li><dropdown-menu-item title="Пункт 3" @click="handleClick"></dropdown-menu-item></li>
                                </template>
                            </cmp-dropdown>
                        </div>
                    </div>

                    <!-- Dropdown с поиском -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Dropdown с поиском</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-dropdown
                                button-text="Поиск элементов"
                                :searchable="true"
                                :items="dropdownItems">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С иконкой на мобильных -->
                            <cmp-dropdown
                                button-text="Поиск элементов"
                                button-icon="fas fa-search"
                                :searchable="true"
                                :items="dropdownItems">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С укороченным текстом на мобильных -->
                            <cmp-dropdown
                                button-text="Поиск элементов"
                                button-text-short="Поиск"
                                :searchable="true"
                                :items="dropdownItems">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                        </div>
                    </div>

                    <!-- Dropdown с прокруткой -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Dropdown с прокруткой (длинный список)</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-dropdown
                                button-text="Длинный список"
                                :scrollable="true"
                                max-height="300px">
                                <template #items>
                                    <li v-for="item in longList" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С иконкой на мобильных -->
                            <cmp-dropdown
                                button-text="Длинный список"
                                button-icon="fas fa-list"
                                :scrollable="true"
                                max-height="300px">
                                <template #items>
                                    <li v-for="item in longList" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С укороченным текстом на мобильных -->
                            <cmp-dropdown
                                button-text="Длинный список"
                                button-text-short="Список"
                                :scrollable="true"
                                max-height="300px">
                                <template #items>
                                    <li v-for="item in longList" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                        </div>
                    </div>

                    <!-- Dropdown с поиском и прокруткой -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Dropdown с поиском и прокруткой</h3>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <cmp-dropdown
                                button-text="Поиск в длинном списке"
                                :searchable="true"
                                :scrollable="true"
                                max-height="300px"
                                :items="longList">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С иконкой на мобильных -->
                            <cmp-dropdown
                                button-text="Поиск в длинном списке"
                                button-icon="fas fa-search"
                                :searchable="true"
                                :scrollable="true"
                                max-height="300px"
                                :items="longList">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                            <!-- С укороченным текстом на мобильных -->
                            <cmp-dropdown
                                button-text="Поиск в длинном списке"
                                button-text-short="Поиск"
                                :searchable="true"
                                :scrollable="true"
                                max-height="300px"
                                :items="longList">
                                <template #items="{ filteredItems }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleSelect(item)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                        </div>
                    </div>

                    <!-- Dropdown в режиме select (индикация выбранного пункта) -->
                    <div class="mb-4">
                        <h3 class="h5 mb-3">Режим select (индикация выбранного пункта на кнопке)</h3>
                        <p class="text-muted mb-3">Компонент dropdown может работать как ⟨select⟩, показывая выбранный пункт меню на кнопке триггера. Поддерживаются любые комбинации элементов: иконка, полный текст, укороченный текст, value.</p>

                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <!-- Только иконка -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem1"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                item-icon="icon"
                                item-label-short="labelShort"
                                :button-display="{ icon: true, label: false, labelShort: false, value: false }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :icon="item.icon"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>

                            <!-- Иконка + полный текст -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem2"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                item-icon="icon"
                                :button-display="{ icon: true, label: true, labelShort: false, value: false }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :icon="item.icon"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>

                            <!-- Иконка + укороченный текст (на мобильных) -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem3"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                item-icon="icon"
                                item-label-short="labelShort"
                                :button-display="{ icon: true, labelShort: true, label: false, value: false }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :icon="item.icon"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>

                            <!-- Только полный текст -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem4"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                :button-display="{ icon: false, label: true, labelShort: false, value: false }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>

                            <!-- Только value (id) -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem5"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                :button-display="{ icon: false, label: false, labelShort: false, value: true }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>

                            <!-- Все вместе: иконка + полный текст + укороченный текст -->
                            <cmp-dropdown
                                :select-mode="true"
                                v-model:selected-item="selectedDropdownItem6"
                                :items="dropdownItems"
                                item-label="name"
                                item-value="id"
                                item-icon="icon"
                                item-label-short="labelShort"
                                :button-display="{ icon: true, label: true, labelShort: true, value: false }"
                                button-text="Выберите элемент">
                                <template #items="{ filteredItems, handleItemSelect }">
                                    <li v-for="item in filteredItems" :key="item.id">
                                        <dropdown-menu-item
                                            :title="item.name"
                                            :icon="item.icon"
                                            :subtitle="item.description"
                                            @click="handleItemSelect(item, item.id)">
                                        </dropdown-menu-item>
                                    </li>
                                </template>
                            </cmp-dropdown>
                        </div>
                        <p class="text-muted small">
                            Выбрано:
                            Dropdown 1: {{ selectedDropdownItem1 || '(ничего)' }},
                            Dropdown 2: {{ selectedDropdownItem2 || '(ничего)' }},
                            Dropdown 3: {{ selectedDropdownItem3 || '(ничего)' }},
                            Dropdown 4: {{ selectedDropdownItem4 || '(ничего)' }},
                            Dropdown 5: {{ selectedDropdownItem5 || '(ничего)' }},
                            Dropdown 6: {{ selectedDropdownItem6 || '(ничего)' }}
                        </p>
                    </div>

                    <hr class="my-5">

                    <h2 class="mb-4">Примеры компонента dropdown-menu-item</h2>

                    <!-- Примеры компонента в разных состояниях -->
                    <ul class="dropdown-menu show position-static d-block border shadow-sm p-0 mb-4" style="max-width: 400px;">
                        <!-- Базовый пример -->
                        <dropdown-menu-item
                            title="Простой пункт меню"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С иконкой и подзаголовком -->
                        <dropdown-menu-item
                            title="Аналитика рынков"
                            subtitle="Детальная статистика по всем торговым парам"
                            icon="fas fa-chart-line"
                            tooltip-icon="Иконка: Аналитика рынков"
                            tooltip-text="Основной текст: Просмотр статистики"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С badge -->
                        <dropdown-menu-item
                            title="Уведомления"
                            subtitle="Новые сообщения и обновления"
                            icon="fas fa-bell"
                            :suffix="{ type: 'badge', value: 5, variant: 'secondary', tooltip: 'Количество уведомлений' }"
                            tooltip-icon="Иконка: Уведомления"
                            tooltip-text="Основной текст: Просмотр уведомлений"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- Active состояние -->
                        <dropdown-menu-item
                            title="Настройки"
                            subtitle="Конфигурация системы"
                            icon="fas fa-cog"
                            :active="true"
                            tooltip-icon="Иконка: Настройки системы"
                            tooltip-text="Основной текст: Конфигурация системы"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С иконкой-суффиксом -->
                        <dropdown-menu-item
                            title="Экспорт данных"
                            subtitle="Сохранение в файл"
                            icon="fas fa-download"
                            :suffix="{ type: 'icon', value: 'fas fa-external-link-alt', tooltip: 'Открыть в новой вкладке' }"
                            tooltip-icon="Иконка: Экспорт"
                            tooltip-text="Основной текст: Экспорт данных"
                            @click="handleClick"
                            @click-suffix="handleSuffixClick">
                        </dropdown-menu-item>

                        <!-- С индикатором -->
                        <dropdown-menu-item
                            title="Соединение"
                            subtitle="Статус подключения"
                            icon="fas fa-wifi"
                            :suffix="{ type: 'indicator', value: 'fas fa-circle text-success', tooltip: 'Статус: Активен' }"
                            tooltip-icon="Иконка: Соединение"
                            tooltip-text="Основной текст: Статус подключения"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С chevron (закрыт) -->
                        <dropdown-menu-item
                            title="Настройки"
                            subtitle="Конфигурация системы"
                            icon="fas fa-cog"
                            :suffix="{ type: 'chevron', value: 'fas fa-chevron-right', expanded: false, tooltip: 'Раскрыть подменю' }"
                            tooltip-icon="Иконка: Настройки"
                            tooltip-text="Основной текст: Настройки"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С chevron (открыт) -->
                        <dropdown-menu-item
                            title="Настройки"
                            subtitle="Конфигурация системы"
                            icon="fas fa-cog"
                            :suffix="{ type: 'chevron', value: 'fas fa-chevron-right', expanded: true, tooltip: 'Свернуть подменю' }"
                            tooltip-icon="Иконка: Настройки"
                            tooltip-text="Основной текст: Настройки"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- С info (справка) -->
                        <dropdown-menu-item
                            title="Расширенная аналитика"
                            subtitle="Премиум функции"
                            icon="fas fa-chart-bar"
                            :suffix="{ type: 'info', value: 'fas fa-info-circle text-info', tooltip: 'Открыть справку' }"
                            tooltip-icon="Иконка: Аналитика"
                            tooltip-text="Основной текст: Расширенная аналитика"
                            @click="handleClick"
                            @click-suffix="handleInfoClick">
                        </dropdown-menu-item>

                        <!-- Disabled состояние -->
                        <dropdown-menu-item
                            title="Заблокировано"
                            subtitle="Функция недоступна"
                            icon="fas fa-lock"
                            :disabled="true"
                            tooltip-icon="Иконка: Заблокировано"
                            tooltip-text="Основной текст: Функция недоступна"
                            @click="handleClick">
                        </dropdown-menu-item>

                        <!-- Длинный текст с переносом -->
                        <dropdown-menu-item
                            title="Очень длинный заголовок пункта меню который должен переноситься на несколько строк"
                            subtitle="И очень длинный подзаголовок который тоже должен переноситься на несколько строк для проверки работы text-wrap"
                            icon="fas fa-file-alt"
                            :suffix="{ type: 'badge', value: 'New', variant: 'primary', tooltip: 'Новая функция' }"
                            tooltip-icon="Иконка: Документ"
                            tooltip-text="Основной текст: Длинный текст"
                            @click="handleClick">
                        </dropdown-menu-item>
                    </ul>
                </div>
            </main>
        </div>

        <!-- Footer приложения (фиксирован к низу) -->
        <app-footer ref="appFooter" @open-timezone-modal="openTimezoneModal"></app-footer>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <!-- Модульная система загрузки скриптов -->
    <!-- Конфигурация модулей (описывает все модули и их зависимости) -->
    <script src="core/modules-config.js"></script>
    <!-- Загрузчик модулей (автоматически загружает модули в правильном порядке) -->
    <script src="core/module-loader.js"></script>
    <!-- Загрузка всех модулей через модульную систему -->
    <script>
        (function() {
            'use strict';
            // Загружаем все модули после загрузки DOM
            function initModules() {
                if (!window.moduleLoader || !window.moduleLoader.hasConfig()) {
                    console.error('module-loader: загрузчик модулей или конфигурация не найдены');
                    return;
                }

                window.moduleLoader.load()
                    .then(function() {
                        console.log('module-loader: все модули загружены, приложение готово');
                    })
                    .catch(function(error) {
                        console.error('module-loader: ошибка загрузки модулей:', error);
                    });
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initModules);
            } else {
                initModules();
            }
        })();
    </script>

    <!-- Стили для компонентов -->
    <style>
/* Крестик для очистки через CSS псевдоэлемент (для combobox) */
.combobox-clear {
    cursor: pointer;
    position: relative;
    padding: 0.375rem 0.5rem;
}

.combobox-clear::before {
    content: '\f00d'; /* Font Awesome times icon */
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    font-size: 0.875rem;
    color: var(--bs-secondary);
    transition: color 0.15s ease-in-out;
}

.combobox-clear:hover::before {
    color: var(--bs-danger);
}

.combobox-clear:active::before {
    color: var(--bs-danger);
    opacity: 0.75;
}
    </style>
</body>
</html>
