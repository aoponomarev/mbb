<script type="text/x-template" id="dropdown-menu-item-template">
<li class="dropdown-item p-0"
    :class="{ 'active': active, 'disabled': disabled }"
    @click="handleClick">
    <div class="d-flex align-items-start px-2 py-2">
        <!-- Левая иконка -->
        <span v-if="icon"
              class="d-flex align-items-center me-2 pt-1"
              :class="iconOpacity === 0.5 ? 'opacity-50' : ''"
              :style="iconOpacity !== 0.5 ? { opacity: iconOpacity } : {}"
              :data-bs-toggle="tooltipIcon ? 'tooltip' : null"
              :data-bs-title="tooltipIcon"
              @click.stop="handleIconClick">
            <i :class="icon"></i>
        </span>

        <!-- Текстовая область -->
        <div class="flex-grow-1 text-break text-wrap"
             style="min-width: 0;"
             :data-bs-toggle="tooltipText ? 'tooltip' : null"
             :data-bs-title="tooltipText"
             @click.stop="handleTextClick">
            <div class="lh-sm text-wrap">{{ title }}</div>
            <small v-if="subtitle"
                   class="d-block mt-1 lh-sm"
                   :class="subtitleOpacity === 0.5 ? 'opacity-50' : ''"
                   :style="subtitleOpacity !== 0.5 ? { opacity: subtitleOpacity } : {}">{{ subtitle }}</small>
        </div>

        <!-- Суффикс (badge/icon/indicator/chevron/info) -->
        <span v-if="suffix"
              class="d-flex align-items-center ms-2 pt-1"
              :data-bs-toggle="suffixTooltip ? 'tooltip' : null"
              :data-bs-title="suffixTooltip"
              @click.stop="handleSuffixClick">
            <!-- Badge -->
            <span v-if="suffix.type === 'badge'"
                  :class="['badge', `bg-${suffix.variant || 'secondary'}`]">
                {{ suffix.value }}
            </span>

            <!-- Icon / Indicator / Info -->
            <i v-else-if="['icon', 'indicator', 'info'].includes(suffix.type)"
               :class="suffix.value"></i>

            <!-- Chevron с анимацией -->
            <i v-else-if="suffix.type === 'chevron'"
               :class="[suffix.value, { 'fa-rotate-90': suffix.expanded }]"
               style="transition: transform 0.3s ease;"></i>
        </span>
    </div>
</li>
</script>

